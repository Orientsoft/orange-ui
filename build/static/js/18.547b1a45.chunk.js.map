{"version":3,"sources":["pages/sys/label/index.js","pages/sys/label/service.js","pages/sys/label/labelForm.js","../divider/index.jsx","../popconfirm/index.jsx"],"names":["TabPane","Tabs","Home","state","activeKey","onChange","key","setState","this","tab","React","Component","getLabels","type","Fetch","addLabels","data","deleteLabels","id","Label","getPageData","props","then","res","status","catch","e","console","log","confirm","message","error","filter","v","value","target","addLabel","name","style","marginBottom","placeholder","width","marginRight","onClick","map","title","onConfirm","okText","cancelText","__rest","s","t","Object","i","p","getPrefixCls","customizePrefixCls","orientation","className","children","dashed","restProps","prefixCls","orientationPrefix","classString","classNames","role","Popconfirm","onCancel","okButtonProps","cancelButtonProps","okType","icon","size","popconfirmLocale","_a","placement","overlay","componentName","defaultLocale","onVisibleChange","visible","ref","saveTooltip","nextProps","defaultVisible","tooltip","transitionName","trigger","theme","disabled","polyfill"],"mappings":"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","file":"static/js/18.547b1a45.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { Tabs } from \"antd\";\r\nimport LabelForm from \"./labelForm\";\r\n\r\nconst { TabPane } = Tabs;\r\n\r\nexport default class Home extends React.Component {\r\n  state = {\r\n    activeKey: '健康自诊',\r\n  }\r\n  onChange = (key) => {\r\n    this.setState({ activeKey: key });\r\n  }\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Tabs activeKey={this.state.activeKey} onChange={this.onChange}>\r\n          <TabPane tab=\"健康自诊\" key=\"健康自诊\">\r\n            <LabelForm activeKey={this.state.activeKey} />\r\n          </TabPane>\r\n          <TabPane tab=\"常见疾病\" key=\"常见疾病\">\r\n            <LabelForm activeKey={this.state.activeKey} />\r\n          </TabPane>\r\n          <TabPane tab=\"健康商城\" key=\"健康商城\">\r\n            <LabelForm activeKey={this.state.activeKey} />\r\n          </TabPane>\r\n          <TabPane tab=\"医院\" key=\"医院\">\r\n            <LabelForm activeKey={this.state.activeKey} />\r\n          </TabPane>\r\n          <TabPane tab=\"名师讲堂\" key=\"名师讲堂\">\r\n            <LabelForm activeKey={this.state.activeKey} />\r\n          </TabPane>\r\n          <TabPane tab=\"营养餐\" key=\"营养餐\">\r\n            <LabelForm activeKey={this.state.activeKey} />\r\n          </TabPane>\r\n          <TabPane tab=\"新闻\" key=\"新闻\">\r\n            <LabelForm activeKey={this.state.activeKey} />\r\n          </TabPane>\r\n        </Tabs>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import Fetch from '../../../utils/fetch';\r\n\r\nexport function getLabels(type) {\r\n    return Fetch('get', `/tag?type=${type}`);\r\n}\r\n\r\nexport function addLabels(data) {\r\n    return Fetch('post', '/tag', data);\r\n}\r\n\r\nexport function deleteLabels(id) {\r\n    return Fetch('delete', `/tag/${id}`);\r\n}","import React from \"react\";\r\nimport { Input, Button, Popconfirm, Icon, message, Divider } from \"antd\";\r\nimport { getLabels, addLabels, deleteLabels } from \"./service\";\r\n\r\nexport default class Label extends React.Component {\r\n  state = {\r\n    data: []\r\n  };\r\n  componentDidMount() {\r\n    this.getPageData();\r\n  }\r\n  getPageData = () => {\r\n    getLabels(this.props.activeKey)\r\n      .then(res => {\r\n        if (res.status === 1) {\r\n          this.setState({\r\n            data: res.data\r\n          });\r\n        }\r\n      })\r\n      .catch(e => {\r\n        console.log(e);\r\n      });\r\n  };\r\n  confirm = (id) => () => {\r\n    deleteLabels(id)\r\n    .then((res) => {\r\n      if (res.status === 1) {\r\n        const data = this.state.data.filter(v => v.id !== id);\r\n        this.setState({ data });\r\n        return;\r\n      }\r\n      message.error(\"删除失败\");\r\n    })\r\n    .catch((e) => {\r\n      console.log(e);\r\n    });\r\n  };\r\n  onChange = e => {\r\n    this.value = e.target.value;\r\n  };\r\n  addLabel = () => {\r\n    if (!this.value) {\r\n      message.error(\"请输入标签内容\");\r\n      return;\r\n    }\r\n    addLabels({\r\n      name: this.value,\r\n      type: this.props.activeKey\r\n    })\r\n      .then(res => {\r\n        if (res.status === 1) {\r\n          this.getPageData();\r\n          return;\r\n        }\r\n        message.error(\"添加失败\");\r\n      })\r\n      .catch(e => {\r\n        console.log(e);\r\n      });\r\n  };\r\n  render() {\r\n    return (\r\n      <div>\r\n        <div style={{ marginBottom: \"16px\" }}>\r\n          <Input\r\n            onChange={this.onChange}\r\n            placeholder=\"请输入标签\"\r\n            style={{ width: \"260px\", marginRight: \"16px\" }}\r\n          />\r\n          <Button type=\"primary\" onClick={this.addLabel}>\r\n            添加\r\n          </Button>\r\n        </div>\r\n        <Divider></Divider>\r\n        {this.state.data.map(v => (\r\n          <Popconfirm\r\n            key={v.id}\r\n            title=\"确定删除?\"\r\n            onConfirm={this.confirm(v.id)}\r\n            okText=\"确定\"\r\n            cancelText=\"取消\"\r\n          >\r\n            <Button type=\"primary\" style={{ marginRight: \"8px\" }}>\r\n              {v.name}\r\n              <Icon type=\"close-circle\" />\r\n            </Button>\r\n          </Popconfirm>\r\n        ))}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport { ConfigConsumer } from '../config-provider';\nconst Divider = props => (<ConfigConsumer>\n    {({ getPrefixCls }) => {\n    const { prefixCls: customizePrefixCls, type = 'horizontal', orientation = 'center', className, children, dashed } = props, restProps = __rest(props, [\"prefixCls\", \"type\", \"orientation\", \"className\", \"children\", \"dashed\"]);\n    const prefixCls = getPrefixCls('divider', customizePrefixCls);\n    const orientationPrefix = orientation.length > 0 ? `-${orientation}` : orientation;\n    const classString = classNames(className, prefixCls, `${prefixCls}-${type}`, {\n        [`${prefixCls}-with-text${orientationPrefix}`]: children,\n        [`${prefixCls}-dashed`]: !!dashed,\n    });\n    return (<div className={classString} {...restProps} role=\"separator\">\n          {children && <span className={`${prefixCls}-inner-text`}>{children}</span>}\n        </div>);\n}}\n  </ConfigConsumer>);\nexport default Divider;\n","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { polyfill } from 'react-lifecycles-compat';\nimport Tooltip from '../tooltip';\nimport Icon from '../icon';\nimport Button from '../button';\nimport LocaleReceiver from '../locale-provider/LocaleReceiver';\nimport defaultLocale from '../locale/default';\nimport { ConfigConsumer } from '../config-provider';\nclass Popconfirm extends React.Component {\n    constructor(props) {\n        super(props);\n        this.onConfirm = (e) => {\n            this.setVisible(false, e);\n            const { onConfirm } = this.props;\n            if (onConfirm) {\n                onConfirm.call(this, e);\n            }\n        };\n        this.onCancel = (e) => {\n            this.setVisible(false, e);\n            const { onCancel } = this.props;\n            if (onCancel) {\n                onCancel.call(this, e);\n            }\n        };\n        this.onVisibleChange = (visible) => {\n            const { disabled } = this.props;\n            if (disabled) {\n                return;\n            }\n            this.setVisible(visible);\n        };\n        this.saveTooltip = (node) => {\n            this.tooltip = node;\n        };\n        this.renderOverlay = (prefixCls, popconfirmLocale) => {\n            const { okButtonProps, cancelButtonProps, title, cancelText, okText, okType, icon, } = this.props;\n            return (<div>\n        <div className={`${prefixCls}-inner-content`}>\n          <div className={`${prefixCls}-message`}>\n            {icon}\n            <div className={`${prefixCls}-message-title`}>{title}</div>\n          </div>\n          <div className={`${prefixCls}-buttons`}>\n            <Button onClick={this.onCancel} size=\"small\" {...cancelButtonProps}>\n              {cancelText || popconfirmLocale.cancelText}\n            </Button>\n            <Button onClick={this.onConfirm} type={okType} size=\"small\" {...okButtonProps}>\n              {okText || popconfirmLocale.okText}\n            </Button>\n          </div>\n        </div>\n      </div>);\n        };\n        this.renderConfirm = ({ getPrefixCls }) => {\n            const _a = this.props, { prefixCls: customizePrefixCls, placement } = _a, restProps = __rest(_a, [\"prefixCls\", \"placement\"]);\n            const prefixCls = getPrefixCls('popover', customizePrefixCls);\n            const overlay = (<LocaleReceiver componentName=\"Popconfirm\" defaultLocale={defaultLocale.Popconfirm}>\n        {(popconfirmLocale) => this.renderOverlay(prefixCls, popconfirmLocale)}\n      </LocaleReceiver>);\n            return (<Tooltip {...restProps} prefixCls={prefixCls} placement={placement} onVisibleChange={this.onVisibleChange} visible={this.state.visible} overlay={overlay} ref={this.saveTooltip}/>);\n        };\n        this.state = {\n            visible: props.visible,\n        };\n    }\n    static getDerivedStateFromProps(nextProps) {\n        if ('visible' in nextProps) {\n            return { visible: nextProps.visible };\n        }\n        if ('defaultVisible' in nextProps) {\n            return { visible: nextProps.defaultVisible };\n        }\n        return null;\n    }\n    getPopupDomNode() {\n        return this.tooltip.getPopupDomNode();\n    }\n    setVisible(visible, e) {\n        const { props } = this;\n        if (!('visible' in props)) {\n            this.setState({ visible });\n        }\n        const { onVisibleChange } = props;\n        if (onVisibleChange) {\n            onVisibleChange(visible, e);\n        }\n    }\n    render() {\n        return <ConfigConsumer>{this.renderConfirm}</ConfigConsumer>;\n    }\n}\nPopconfirm.defaultProps = {\n    transitionName: 'zoom-big',\n    placement: 'top',\n    trigger: 'click',\n    okType: 'primary',\n    icon: <Icon type=\"exclamation-circle\" theme=\"filled\"/>,\n    disabled: false,\n};\npolyfill(Popconfirm);\nexport default Popconfirm;\n"],"sourceRoot":""}