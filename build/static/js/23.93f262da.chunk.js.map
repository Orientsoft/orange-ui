{"version":3,"sources":["pages/hospital/appointmentSign/index.js","pages/hospital/appointmentSign/service.js","components/comTable/index.js"],"names":["Home","p","getPageData","getAppointList","state","current","then","res","status","setState","dataSource","data","total","catch","e","console","log","onChangePage","page","mode","visible","this","columns","title","dataIndex","key","align","render","renderTime","React","Component","Fetch","props","style","marginTop","bordered","pagination","rowKey","getRowKey","size","className","onChange","float"],"mappings":"wOAKqBA,E,YACnB,WAAYC,GAAI,IAAD,8BACb,4CAAMA,KAYRC,YAAc,WACZC,yBAAe,EAAKC,MAAMC,SACzBC,MAAK,SAACC,GACc,IAAfA,EAAIC,OAIR,EAAKC,SAAS,CAAEC,WAAY,KAH1B,EAAKD,SAAS,CAAEC,WAAYH,EAAII,KAAMC,MAAOL,EAAIK,WAKpDC,OAAM,SAACC,GACNC,QAAQC,IAAIF,OAvBD,EA0BfG,aAAe,SAAAC,GACb,EAAKT,SAAS,CACZJ,QAASa,IACR,WACD,EAAKhB,kBA5BP,EAAKE,MAAQ,CACXe,KAAM,GACNC,SAAS,EACTf,QAAS,EACTO,MAAO,EACPF,WAAY,IAPD,E,iFAWbW,KAAKnB,gB,+BAwBL,IAAMoB,EAAU,CACd,CACEC,MAAO,eACPC,UAAW,OACXC,IAAK,OACLC,MAAO,UAET,CACEH,MAAO,eACPC,UAAW,QACXC,IAAK,QACLC,MAAO,UAET,CACEH,MAAO,2BACPC,UAAW,SACXC,IAAK,SACLC,MAAO,UAET,CACEH,MAAO,2BACPC,UAAW,UACXC,IAAK,UACLC,MAAO,SACPC,OAAQC,MAGZ,OACE,6BACE,kBAAC,IAAD,CACEvB,QAASgB,KAAKjB,MAAMC,QACpBO,MAAOS,KAAKjB,MAAMQ,MAClBU,QAASA,EACTZ,WAAYW,KAAKjB,MAAMM,WACvBO,aAAcI,KAAKJ,oB,GAtEKY,IAAMC,Y,iCCLxC,kEAEO,SAAS3B,IAA0B,IAAXe,EAAU,uDAAH,EAClC,OAAOa,YAAM,MAAD,qCAAsCb,EAAtC,gB,2JCCKlB,E,iLACR,IAAD,EAC0DqB,KAAKW,MAA3DV,EADJ,EACIA,QAASZ,EADb,EACaA,WAAYL,EADzB,EACyBA,QAASO,EADlC,EACkCA,MAAOK,EADzC,EACyCA,aAE7C,OADAF,QAAQC,IAAI,QAASJ,GACb,yBAAKqB,MAAO,CAAEC,UAAW,SACjC,kBAAC,IAAD,CACEC,UAAQ,EACRzB,WAAYA,EACZY,QAASA,EACTc,YAAY,EACZC,OAAQC,IACRC,KAAK,UAEP,yBAAKC,UAAU,YACf,kBAAC,IAAD,CACEnC,QAASA,EACTO,MAAOA,EAEP6B,SAAUxB,EACVgB,MAAO,CAAES,MAAO,QAASR,UAAW,gB,GAnBZL,IAAMC","file":"static/js/23.93f262da.chunk.js","sourcesContent":["import React from \"react\";\r\nimport ComTable from \"../../../components/comTable\";\r\nimport { getAppointList } from './service';\r\nimport { renderTime } from '../../../utils/util';\r\n\r\nexport default class Home extends React.Component {\r\n  constructor(p) {\r\n    super(p);\r\n    this.state = {\r\n      mode: \"\",\r\n      visible: false,\r\n      current: 1,\r\n      total: 0,\r\n      dataSource: [],\r\n    };\r\n  }\r\n  componentDidMount() {\r\n    this.getPageData();\r\n  }\r\n  getPageData = () => {\r\n    getAppointList(this.state.current)\r\n    .then((res) => {\r\n      if (res.status === 1) {\r\n        this.setState({ dataSource: res.data, total: res.total });\r\n        return;\r\n      }\r\n      this.setState({ dataSource: [] });\r\n    })\r\n    .catch((e) => {\r\n      console.log(e);\r\n    });\r\n  };\r\n  onChangePage = page => {\r\n    this.setState({\r\n      current: page,\r\n    }, () => {\r\n      this.getPageData();\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const columns = [\r\n      {\r\n        title: \"名字\",\r\n        dataIndex: \"name\",\r\n        key: \"name\",\r\n        align: \"center\"\r\n      },\r\n      {\r\n        title: \"电话\",\r\n        dataIndex: \"phone\",\r\n        key: \"phone\",\r\n        align: \"center\"\r\n      },\r\n      {\r\n        title: \"其他说明\",\r\n        dataIndex: \"remark\",\r\n        key: \"remark\",\r\n        align: \"center\"\r\n      },\r\n      {\r\n        title: \"预约时间\",\r\n        dataIndex: \"orderAt\",\r\n        key: \"orderAt\",\r\n        align: \"center\",\r\n        render: renderTime,\r\n      },\r\n    ];\r\n    return (\r\n      <div>\r\n        <ComTable\r\n          current={this.state.current}\r\n          total={this.state.total}\r\n          columns={columns}\r\n          dataSource={this.state.dataSource}\r\n          onChangePage={this.onChangePage}\r\n        />\r\n\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import Fetch from '../../../utils/fetch';\r\n\r\nexport function getAppointList(page = 1) {\r\n    return Fetch('get', `/appointment/hospital?page=${page}&limit=10`);\r\n}","import React from 'react';\r\nimport { Table, Pagination } from 'antd';\r\nimport { getRowKey } from '../../utils/util';\r\n\r\nexport default class Home extends React.Component {\r\n    render(){\r\n        const { columns, dataSource, current, total, onChangePage } = this.props;\r\n        console.log('total', total);\r\n        return (<div style={{ marginTop: '16px' }}>\r\n        <Table\r\n          bordered\r\n          dataSource={dataSource}\r\n          columns={columns}\r\n          pagination={false}\r\n          rowKey={getRowKey}\r\n          size=\"small\"\r\n        />\r\n        <div className='clearfix'>\r\n        <Pagination\r\n          current={current}\r\n          total={total}\r\n          // pageSize={2}\r\n          onChange={onChangePage}\r\n          style={{ float: 'right', marginTop: '16px' }}\r\n        />\r\n        </div>\r\n        </div>)\r\n    }\r\n}"],"sourceRoot":""}