(this.webpackJsonptemp=this.webpackJsonptemp||[]).push([[19,41],{215:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return g}));var n=a(29),r=a(30),i=a(32),c=a(31),o=a(33),l=a(0),s=a.n(l),u=a(791),d=a(793),m=a(395),p=a(152),g=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(i.a)(this,Object(c.a)(t).call(this,e))).getPageData=function(){Object(m.getCommentList)(a.state.current).then((function(e){1!==e.status?a.setState({dataSource:[]}):a.setState({dataSource:e.data,total:e.total})})).catch((function(e){console.log(e)}))},a.onChangePage=function(e){a.setState({current:e},(function(){a.getPageData()}))},a.showPreview=function(e){return function(){a.setState({previewVisible:!0,previewImage:e})}},a.previewHandleCancel=function(){a.setState({previewVisible:!1,previewImage:""})},a.state={previewVisible:!1,previewImage:"",current:1,total:0,dataSource:[]},a}return Object(o.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.getPageData()}},{key:"render",value:function(){var e=this,t=[{title:"\u4ea7\u54c1",dataIndex:"productName",key:"productName",align:"center"},{title:"\u4ea7\u54c1LOGO",dataIndex:"productLogo",key:"productLogo",align:"center",render:function(t){return s.a.createElement("img",{onClick:e.showPreview(t),src:t,alt:"",style:{height:"20px"},className:"canClick"})}},{title:"\u8bc4\u8bba\u8005",dataIndex:"commentName",key:"commentName",align:"center"},{title:"\u8bc4\u8bba\u65f6\u95f4",dataIndex:"commentAt",key:"commentAt",align:"center",render:p.f},{title:"\u56de\u590d",dataIndex:"answer",key:"answer",align:"center"},{title:"\u56de\u590d\u65f6\u95f4",dataIndex:"answerAt",key:"answerAt",align:"center",render:p.f}];return s.a.createElement("div",null,s.a.createElement(u.a,{current:this.state.current,total:this.state.total,columns:t,dataSource:this.state.dataSource,onChangePage:this.onChangePage}),s.a.createElement(d.a,{previewVisible:this.state.previewVisible,previewImage:this.state.previewImage,handleCancel:this.previewHandleCancel}))}}]),t}(s.a.Component)},395:function(e,t,a){"use strict";a.r(t),a.d(t,"getCommentList",(function(){return r}));var n=a(69);function r(e){return Object(n.a)("get","/product/comment?page=".concat(e,"&limit=10"))}},791:function(e,t,a){"use strict";a.d(t,"a",(function(){return p}));var n=a(29),r=a(30),i=a(32),c=a(31),o=a(33),l=a(0),s=a.n(l),u=a(1092),d=a(861),m=a(152),p=function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.columns,a=e.dataSource,n=e.current,r=e.total,i=e.onChangePage;return console.log("total",r),s.a.createElement("div",{style:{marginTop:"16px"}},s.a.createElement(u.a,{bordered:!0,dataSource:a,columns:t,pagination:!1,rowKey:m.c,size:"small"}),s.a.createElement("div",{className:"clearfix"},s.a.createElement(d.a,{current:n,total:r,onChange:i,style:{float:"right",marginTop:"16px"}})))}}]),t}(s.a.Component)},793:function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var n=a(29),r=a(30),i=a(32),c=a(31),o=a(33),l=a(0),s=a.n(l),u=a(782),d=function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.previewVisible,a=e.previewImage,n=e.handleCancel,r=e.renderMode;return console.log("renderMode",r),s.a.createElement(u.a,{visible:t,footer:null,onCancel:n,title:"\u9884\u89c8",width:1024},s.a.createElement("div",{style:{height:"800px"},className:"clearfix"},"draft"===r?s.a.createElement("div",{dangerouslySetInnerHTML:{__html:a}}):s.a.createElement("img",{alt:"example",style:{width:"100%",height:"100%"},src:a})))}}]),t}(s.a.Component)}}]);
//# sourceMappingURL=19.f946b552.chunk.js.map