{"version":3,"sources":["pages/check/hospitalCheck/index.js","pages/check/hospitalCheck/service.js","components/comTable/index.js","components/previewModal/index.js","components/rejectModal/index.js","../tag/CheckableTag.jsx","../_util/colors.js","../tag/index.jsx"],"names":["Home","p","getPageData","getCheckHospitalList","state","current","then","res","status","setState","dataSource","data","map","v","operation","total","catch","e","console","log","onChangePage","page","showRejectModal","record","visible","selectRow","onCancel","handleOk","rejectCheck","id","reason","message","success","error","onPassCheck","passCheck","showContentPreview","draft","previewVisible","renderMode","getHospitalInfo","previewImage","content","showPreview","url","previewHandleCancel","renderTag","style","marginTop","value","key","paddingLeft","marginBottom","color","mode","this","columns","title","dataIndex","align","render","text","className","onClick","join","src","alt","height","width","type","marginRight","handleCancel","React","Component","Fetch","props","bordered","pagination","rowKey","getRowKey","size","onChange","float","PreviewModal","footer","minHeight","dangerouslySetInnerHTML","__html","TextArea","Input","target","preProps","onOk","rows","defaultProps","__rest","s","t","Object","i","CheckableTag","checked","getPrefixCls","_a","customizePrefixCls","restProps","prefixCls","cls","classNames","handleClick","PresetColorTypes","tuple","PresetColorRegex","RegExp","Tag","children","otherProps","isNeedWave","tagProps","omit","warning","nextProps","isPresetColor","backgroundColor","undefined","onClose","afterClose","handleIconClick","closable","polyfill"],"mappings":"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","file":"static/js/12.c94f7a17.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { Button, message, Tag } from \"antd\";\r\nimport ComTable from \"../../../components/comTable\";\r\nimport RejectModal from \"../../../components/rejectModal\";\r\nimport PreviewModal from \"../../../components/previewModal\";\r\nimport { getCheckHospitalList, passCheck, rejectCheck, getHospitalInfo } from \"./service\";\r\n\r\nexport default class Home extends React.Component {\r\n  constructor(p) {\r\n    super(p);\r\n    this.state = {\r\n      previewVisible: false,\r\n      previewImage: \"\",\r\n      mode: \"\",\r\n      visible: false,\r\n      current: 1,\r\n      total: 0,\r\n      dataSource: [],\r\n      renderMode: \"\"\r\n    };\r\n  }\r\n  componentDidMount() {\r\n    this.getPageData();\r\n  }\r\n  getPageData = () => {\r\n    getCheckHospitalList(this.state.current)\r\n      .then(res => {\r\n        if (res.status === 1) {\r\n          const dataSource = res.data.map(v => {\r\n            if (v.operation) {\r\n              return { ...v, ...v.operation };\r\n            }\r\n            return v;\r\n          });\r\n          this.setState({ dataSource, total: res.total });\r\n          return;\r\n        }\r\n        this.setState({ dataSource: [] });\r\n      })\r\n      .catch(e => {\r\n        console.log(e);\r\n      });\r\n  };\r\n  onChangePage = page => {\r\n    this.setState(\r\n      {\r\n        current: page\r\n      },\r\n      () => {\r\n        this.getPageData();\r\n      }\r\n    );\r\n  };\r\n  showRejectModal = record => () => {\r\n    this.setState({ visible: true, selectRow: record });\r\n  };\r\n  onCancel = () => {\r\n    this.setState({\r\n      visible: false\r\n    });\r\n  };\r\n  handleOk = v => {\r\n    console.log(\"v\", v);\r\n    rejectCheck({ id: this.state.selectRow.id, status: 0, reason: v })\r\n      .then(res => {\r\n        if (res.status === 1) {\r\n          message.success(\"操作成功\");\r\n          this.onCancel();\r\n          this.getPageData();\r\n          return;\r\n        }\r\n        message.error(\"操作失败\");\r\n      })\r\n      .catch(e => {\r\n        console.log(e);\r\n      });\r\n  };\r\n  onPassCheck = id => () => {\r\n    passCheck({ id, status: 1, reason: \"\" })\r\n      .then(res => {\r\n        if (res.status === 1) {\r\n          message.success(\"操作成功\");\r\n          this.getPageData();\r\n          return;\r\n        }\r\n        message.error(\"操作失败\");\r\n      })\r\n      .catch(e => {\r\n        console.log(e);\r\n      });\r\n  };\r\n  showContentPreview = (id, draft) => () => {\r\n    this.setState({\r\n      previewVisible: true,\r\n      renderMode: draft,\r\n    });\r\n    getHospitalInfo(id)\r\n    .then((res) => {\r\n      if(res.status === 1){\r\n        let previewImage = res.data.content;\r\n        if(res.data.operation && res.data.operation.content){\r\n          previewImage = res.data.operation.content;\r\n        }\r\n        console.log('previewImage', previewImage);\r\n        this.setState({\r\n          previewVisible: true,\r\n          previewImage,\r\n          renderMode: draft,\r\n        });\r\n        return;\r\n      }\r\n      this.setState({\r\n        previewVisible: true,\r\n        previewImage: '',\r\n        renderMode: draft,\r\n      });\r\n    })\r\n    .catch((e) => {\r\n      console.log(e);\r\n    })\r\n  }\r\n  showPreview = (url, draft) => () => {\r\n    this.setState({\r\n      previewVisible: true,\r\n      previewImage: url,\r\n      renderMode: draft\r\n    });\r\n  };\r\n  previewHandleCancel = () => {\r\n    this.setState({ previewVisible: false, previewImage: \"\" });\r\n  };\r\n  renderTag = v => {\r\n    if (!v) {\r\n      return null;\r\n    }\r\n    return (\r\n      <div style={{ marginTop: \"8px\" }}>\r\n        {v.map(value => {\r\n          return (\r\n            <div\r\n              key={value}\r\n              style={{ paddingLeft: \"8px\", marginBottom: \"8px\" }}\r\n            >\r\n              <Tag color=\"#108ee9\">{value}</Tag>\r\n            </div>\r\n          );\r\n        })}\r\n      </div>\r\n    );\r\n  };\r\n  render() {\r\n    const columns = [\r\n      {\r\n        title: \"医院名称\",\r\n        dataIndex: \"name\",\r\n        key: \"name\",\r\n        align: \"center\"\r\n      },\r\n      {\r\n        title: \"医院简介\",\r\n        dataIndex: \"content\",\r\n        key: \"content\",\r\n        align: \"center\",\r\n        render: (text, record) => {\r\n          return (\r\n            <span\r\n              className=\"canClick\"\r\n              onClick={this.showContentPreview(record.id, \"draft\")}\r\n            >\r\n              详情\r\n            </span>\r\n          );\r\n        }\r\n      },\r\n      {\r\n        title: \"特色科室\",\r\n        dataIndex: \"department\",\r\n        key: \"department\",\r\n        align: \"center\",\r\n        render: v => {\r\n          if (!v) {\r\n            return null;\r\n          }\r\n          return v.join(\"、\");\r\n        }\r\n      },\r\n      {\r\n        title: \"联系电话\",\r\n        dataIndex: \"phone\",\r\n        key: \"phone\",\r\n        align: \"center\"\r\n      },\r\n      {\r\n        title: \"标签\",\r\n        dataIndex: \"tag\",\r\n        key: \"tag\",\r\n        align: \"center\",\r\n        render: v => {\r\n          if (!v) {\r\n            return null;\r\n          }\r\n          return v.join(\"、\");\r\n        }\r\n        // render: v => {\r\n        //   return this.renderTag(v);\r\n        // }\r\n        // render: v => {\r\n        //   return (\r\n        //     <Tooltip title={this.renderTag(v)} placement=\"bottom\">\r\n        //       <span className=\"canClick\">详情</span>\r\n        //     </Tooltip>\r\n        //   );\r\n        // }\r\n      },\r\n      {\r\n        title: \"医院logo\",\r\n        dataIndex: \"logo\",\r\n        key: \"logo\",\r\n        align: \"center\",\r\n        render: text => {\r\n          return (\r\n            <img\r\n              onClick={this.showPreview(text)}\r\n              src={text}\r\n              alt=\"\"\r\n              style={{ height: \"20px\" }}\r\n              className=\"canClick\"\r\n            />\r\n          );\r\n        }\r\n      },\r\n      {\r\n        title: \"医院大图\",\r\n        dataIndex: \"pic\",\r\n        key: \"pic\",\r\n        align: \"center\",\r\n        render: text => {\r\n          return (\r\n            <img\r\n              onClick={this.showPreview(text)}\r\n              src={text}\r\n              alt=\"\"\r\n              style={{ height: \"20px\" }}\r\n              className=\"canClick\"\r\n            />\r\n          );\r\n        }\r\n      },\r\n      {\r\n        title: \"详细地址\",\r\n        dataIndex: \"address\",\r\n        key: \"address\",\r\n        align: \"center\"\r\n      },\r\n      {\r\n        title: \"操作\",\r\n        dataIndex: \"action\",\r\n        key: \"action\",\r\n        align: \"center\",\r\n        width: 200,\r\n        render: (v, record) => {\r\n          return (\r\n            <span>\r\n              <Button\r\n                type=\"primary\"\r\n                style={{ marginRight: \"16px\" }}\r\n                onClick={this.onPassCheck(record.id)}\r\n              >\r\n                通过\r\n              </Button>\r\n              <Button type=\"danger\" onClick={this.showRejectModal(record)}>\r\n                驳回\r\n              </Button>\r\n            </span>\r\n          );\r\n        }\r\n      }\r\n    ];\r\n    return (\r\n      <div>\r\n        <ComTable\r\n          current={this.state.current}\r\n          total={this.state.total}\r\n          columns={columns}\r\n          dataSource={this.state.dataSource}\r\n          onChangePage={this.onChangePage}\r\n        />\r\n        <RejectModal\r\n          title=\"请填写驳回原因\"\r\n          visible={this.state.visible}\r\n          onCancel={this.onCancel}\r\n          handleOk={this.handleOk}\r\n        />\r\n        <PreviewModal\r\n          previewVisible={this.state.previewVisible}\r\n          previewImage={this.state.previewImage}\r\n          handleCancel={this.previewHandleCancel}\r\n          renderMode={this.state.renderMode}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import Fetch from '../../../utils/fetch';\r\n\r\nexport function getCheckHospitalList(page) {\r\n    return Fetch('get', `/hospital/operation?page=${page}&limit=10`);\r\n}\r\n\r\nexport function passCheck(data) {\r\n    return Fetch('put', '/hospital/check', data);\r\n}\r\n\r\nexport function rejectCheck(data) {\r\n    return Fetch('put', '/hospital/check', data);\r\n}\r\n\r\nexport function getHospitalInfo(id) {\r\n    return Fetch('get', `/hospital/${id}`);\r\n}","import React from 'react';\r\nimport { Table, Pagination } from 'antd';\r\nimport { getRowKey } from '../../utils/util';\r\n\r\nexport default class Home extends React.Component {\r\n    render(){\r\n        const { columns, dataSource, current, total, onChangePage } = this.props;\r\n        console.log('total', total);\r\n        return (<div style={{ marginTop: '16px' }}>\r\n        <Table\r\n          bordered\r\n          dataSource={dataSource}\r\n          columns={columns}\r\n          pagination={false}\r\n          rowKey={getRowKey}\r\n          size=\"small\"\r\n        />\r\n        <div className='clearfix'>\r\n        <Pagination\r\n          current={current}\r\n          total={total}\r\n          // pageSize={2}\r\n          onChange={onChangePage}\r\n          style={{ float: 'right', marginTop: '16px' }}\r\n        />\r\n        </div>\r\n        </div>)\r\n    }\r\n}","import React from \"react\";\r\nimport { Modal } from \"antd\";\r\n\r\nexport default class PreviewModal extends React.Component {\r\n  render() {\r\n    const {\r\n      previewVisible,\r\n      previewImage,\r\n      handleCancel,\r\n      renderMode\r\n    } = this.props;\r\n    console.log(\"renderMode\", renderMode);\r\n    return (\r\n      <Modal\r\n        visible={previewVisible}\r\n        footer={null}\r\n        onCancel={handleCancel}\r\n        title=\"预览\"\r\n        width={1024}\r\n      >\r\n        <div className=\"clearfix\">\r\n          {renderMode === \"draft\" ? (\r\n            <div\r\n              style={{ minHeight: '700px' }}\r\n              dangerouslySetInnerHTML={{\r\n                __html: previewImage\r\n              }}\r\n            ></div>\r\n          ) : (\r\n            <img\r\n              alt=\"example\"\r\n              style={{ width: \"100%\", height: \"100%\" }}\r\n              src={previewImage}\r\n            />\r\n          )}\r\n        </div>\r\n      </Modal>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport { Modal, Input, message } from \"antd\";\r\n\r\nconst { TextArea } = Input;\r\n\r\nexport default class Home extends React.Component {\r\n  state = {\r\n    value: \"\"\r\n  };\r\n  static defaultProps={\r\n    handleOk: () => {}\r\n  }\r\n  componentDidUpdate(preProps){\r\n    if (this.props.visible !== preProps.visible && !preProps.visible) {\r\n        this.setState({ value: '' });\r\n    }\r\n  }\r\n  onChange = e => {\r\n      console.log(e);\r\n    this.setState({ value: e.target.value });\r\n  };\r\n  handleOk = () => {\r\n      if(!this.state.value){\r\n          message.error('请填写');\r\n          return;\r\n      }\r\n      this.props.handleOk(this.state.value);\r\n  }\r\n  render() {\r\n    return (\r\n      <Modal\r\n        title={this.props.title}\r\n        visible={this.props.visible}\r\n        onOk={this.handleOk}\r\n        onCancel={this.props.onCancel}\r\n      >\r\n        <TextArea rows={4} onChange={this.onChange} value={this.state.value} />\r\n      </Modal>\r\n    );\r\n  }\r\n}\r\n","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport { ConfigConsumer } from '../config-provider';\nexport default class CheckableTag extends React.Component {\n    constructor() {\n        super(...arguments);\n        this.handleClick = () => {\n            const { checked, onChange } = this.props;\n            if (onChange) {\n                onChange(!checked);\n            }\n        };\n        this.renderCheckableTag = ({ getPrefixCls }) => {\n            const _a = this.props, { prefixCls: customizePrefixCls, className, checked } = _a, restProps = __rest(_a, [\"prefixCls\", \"className\", \"checked\"]);\n            const prefixCls = getPrefixCls('tag', customizePrefixCls);\n            const cls = classNames(prefixCls, {\n                [`${prefixCls}-checkable`]: true,\n                [`${prefixCls}-checkable-checked`]: checked,\n            }, className);\n            delete restProps.onChange; // TypeScript cannot check delete now.\n            return <span {...restProps} className={cls} onClick={this.handleClick}/>;\n        };\n    }\n    render() {\n        return <ConfigConsumer>{this.renderCheckableTag}</ConfigConsumer>;\n    }\n}\n","import { tuple } from './type';\n// eslint-disable-next-line import/prefer-default-export\nexport const PresetColorTypes = tuple('pink', 'red', 'yellow', 'orange', 'cyan', 'green', 'blue', 'purple', 'geekblue', 'magenta', 'volcano', 'gold', 'lime');\n","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport omit from 'omit.js';\nimport { polyfill } from 'react-lifecycles-compat';\nimport Icon from '../icon';\nimport CheckableTag from './CheckableTag';\nimport { ConfigConsumer } from '../config-provider';\nimport { PresetColorTypes } from '../_util/colors';\nimport warning from '../_util/warning';\nimport Wave from '../_util/wave';\nconst PresetColorRegex = new RegExp(`^(${PresetColorTypes.join('|')})(-inverse)?$`);\nclass Tag extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            visible: true,\n        };\n        this.handleIconClick = (e) => {\n            e.stopPropagation();\n            this.setVisible(false, e);\n        };\n        this.renderTag = (configProps) => {\n            const _a = this.props, { children } = _a, otherProps = __rest(_a, [\"children\"]);\n            const isNeedWave = 'onClick' in otherProps || (children && children.type === 'a');\n            const tagProps = omit(otherProps, [\n                'onClose',\n                'afterClose',\n                'color',\n                'visible',\n                'closable',\n                'prefixCls',\n            ]);\n            return isNeedWave ? (<Wave>\n        <span {...tagProps} className={this.getTagClassName(configProps)} style={this.getTagStyle()}>\n          {children}\n          {this.renderCloseIcon()}\n        </span>\n      </Wave>) : (<span {...tagProps} className={this.getTagClassName(configProps)} style={this.getTagStyle()}>\n        {children}\n        {this.renderCloseIcon()}\n      </span>);\n        };\n        warning(!('afterClose' in props), 'Tag', \"'afterClose' will be deprecated, please use 'onClose', we will remove this in the next version.\");\n    }\n    static getDerivedStateFromProps(nextProps) {\n        if ('visible' in nextProps) {\n            return {\n                visible: nextProps.visible,\n            };\n        }\n        return null;\n    }\n    getTagStyle() {\n        const { color, style } = this.props;\n        const isPresetColor = this.isPresetColor();\n        return Object.assign({ backgroundColor: color && !isPresetColor ? color : undefined }, style);\n    }\n    getTagClassName({ getPrefixCls }) {\n        const { prefixCls: customizePrefixCls, className, color } = this.props;\n        const { visible } = this.state;\n        const isPresetColor = this.isPresetColor();\n        const prefixCls = getPrefixCls('tag', customizePrefixCls);\n        return classNames(prefixCls, {\n            [`${prefixCls}-${color}`]: isPresetColor,\n            [`${prefixCls}-has-color`]: color && !isPresetColor,\n            [`${prefixCls}-hidden`]: !visible,\n        }, className);\n    }\n    setVisible(visible, e) {\n        const { onClose, afterClose } = this.props;\n        if (onClose) {\n            onClose(e);\n        }\n        if (afterClose && !onClose) {\n            // next version remove.\n            afterClose();\n        }\n        if (e.defaultPrevented) {\n            return;\n        }\n        if (!('visible' in this.props)) {\n            this.setState({ visible });\n        }\n    }\n    isPresetColor() {\n        const { color } = this.props;\n        if (!color) {\n            return false;\n        }\n        return PresetColorRegex.test(color);\n    }\n    renderCloseIcon() {\n        const { closable } = this.props;\n        return closable ? <Icon type=\"close\" onClick={this.handleIconClick}/> : null;\n    }\n    render() {\n        return <ConfigConsumer>{this.renderTag}</ConfigConsumer>;\n    }\n}\nTag.CheckableTag = CheckableTag;\nTag.defaultProps = {\n    closable: false,\n};\npolyfill(Tag);\nexport default Tag;\n"],"sourceRoot":""}