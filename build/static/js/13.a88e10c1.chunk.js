(this.webpackJsonptemp=this.webpackJsonptemp||[]).push([[13,30,37,51],{210:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return k}));var n=a(29),c=a(30),i=a(32),s=a(31),l=a(33),r=a(0),o=a.n(r),u=a(100),h=a(43),d=a(1092),m=a(861),f=a(391),v=a(392),p=a(808),g=a(152),b={1:"\u666e\u901a\u7528\u6237",2:"\u533b\u9662\u7ba1\u7406\u5458",3:"\u533b\u9662\u6536\u8d39\u5458",4:"\u8d85\u7ea7\u7ba1\u7406\u5458"},k=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(i.a)(this,Object(s.a)(t).call(this,e))).getPageData=function(){Object(v.getUnauthUserList)(a.state.current).then((function(e){1!==e.status?a.setState({dataSource:[]}):a.setState({dataSource:e.data,total:e.total})})).catch((function(e){console.log(e)}))},a.onChangePage=function(e){a.setState({current:e},(function(){a.getPageData()}))},a.openCheckModal=function(e){return function(){a.setState({authVisible:!0,selectRow:e})}},a.onCancel=function(){a.setState({visible:!1,authVisible:!1,selectRow:{}})},a.showRejectModal=function(e){return function(){a.setState({visible:!0,selectRow:e})}},a.handleOk=function(e){console.log("v",e),Object(v.checkUnauthUser)(a.state.selectRow.id,{status:0,reason:e}).then((function(e){if(1===e.status)return u.a.success("\u64cd\u4f5c\u6210\u529f"),a.setState({visible:!1,selectRow:{}}),void a.getPageData();u.a.error("\u64cd\u4f5c\u5931\u8d25")})).catch((function(e){console.log(e)}))},a.onPassCheck=function(e){return function(){Object(v.checkUnauthUser)(e,{status:1,reason:""}).then((function(e){if(1===e.status)return u.a.success("\u64cd\u4f5c\u6210\u529f"),void a.getPageData();u.a.error("\u64cd\u4f5c\u5931\u8d25")})).catch((function(e){console.log(e)}))}},a.state={visible:!1,authVisible:!1,current:1,total:0,dataSource:[],selectRow:{}},a}return Object(l.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.getPageData()}},{key:"render",value:function(){var e=this,t=[{title:"\u624b\u673a\u53f7",dataIndex:"phone",key:"phone",align:"center"},{title:"\u72b6\u6001",dataIndex:"status",key:"status",align:"center"},{title:"\u89d2\u8272",dataIndex:"role",key:"role",align:"center",render:function(e){return e.map((function(e){return b[e]})).join("\u3001")}},{title:"\u8ba4\u8bc1\u4fe1\u606f",dataIndex:"authInfo",key:"authInfo",align:"center",width:100,render:function(t,a){return o.a.createElement("div",{className:"canClick",onClick:e.openCheckModal(a)},"\u8be6\u60c5")}},{title:"\u64cd\u4f5c",dataIndex:"action",key:"action",align:"center",width:200,render:function(t,a){return o.a.createElement("span",null,o.a.createElement(h.a,{type:"primary",style:{marginRight:"16px"},onClick:e.onPassCheck(a.id)},"\u901a\u8fc7"),o.a.createElement(h.a,{type:"danger",onClick:e.showRejectModal(a)},"\u9a73\u56de"))}}];return o.a.createElement("div",null,o.a.createElement(d.a,{bordered:!0,dataSource:this.state.dataSource,columns:t,pagination:!1,rowKey:g.c,size:"small"}),o.a.createElement(m.a,{current:this.state.current,total:this.state.total,onChange:this.onChangePage,style:{float:"right"}}),o.a.createElement(p.a,{title:"\u8bf7\u586b\u5199\u9a73\u56de\u539f\u56e0",visible:this.state.visible,onCancel:this.onCancel,handleOk:this.handleOk}),o.a.createElement(f.default,{visible:this.state.authVisible,onCancel:this.onCancel,selectRow:this.state.selectRow}))}}]),t}(o.a.Component)},391:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return h}));var n=a(29),c=a(30),i=a(32),s=a(31),l=a(33),r=a(0),o=a.n(r),u=a(782),h=(a(783),function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.visible,a=e.onCancel,n=e.selectRow;return o.a.createElement(u.a,{visible:t,title:"\u8ba4\u8bc1\u5ba1\u6838",onCancel:a,onOk:this.onOk,footer:!1,width:1024},o.a.createElement("div",{className:"check-modal"},o.a.createElement("ul",null,o.a.createElement("li",{className:"item"},o.a.createElement("div",{className:"title"},"\u516c\u53f8\u540d\u79f0:"),o.a.createElement("div",{className:"value"},n.name)),o.a.createElement("li",{className:"item"},o.a.createElement("div",{className:"title"},"\u7ec4\u7ec7\u673a\u6784\u4ee3\u7801:"),o.a.createElement("div",{className:"value"},n.idcard)),o.a.createElement("li",{className:"item"},o.a.createElement("div",{className:"title"},"\u8425\u4e1a\u6267\u7167:"),o.a.createElement("div",{className:"value"},o.a.createElement("img",{style:{height:"400px"},alt:"",src:n.doc&&n.doc[0]}))),o.a.createElement("li",{className:"item"},o.a.createElement("div",{className:"title"},"\u6388\u6743\u4e66:"),o.a.createElement("div",{className:"value"},o.a.createElement("img",{style:{height:"400px"},alt:"",src:n.doc&&n.doc[1]}))))))}}]),t}(o.a.Component))},392:function(e,t,a){"use strict";a.r(t),a.d(t,"getUnauthUserList",(function(){return c})),a.d(t,"checkUnauthUser",(function(){return i}));var n=a(69);function c(e){return Object(n.a)("get","/user?page=".concat(e,"&limit=10&status=\u5f85\u5ba1\u6838"))}function i(e,t){return Object(n.a)("put","/cert/".concat(e),t)}},783:function(e,t,a){},808:function(e,t,a){"use strict";a.d(t,"a",(function(){return f}));var n=a(29),c=a(30),i=a(32),s=a(31),l=a(33),r=a(0),o=a.n(r),u=a(192),h=a(100),d=a(782),m=u.a.TextArea,f=function(e){function t(){var e,a;Object(n.a)(this,t);for(var c=arguments.length,l=new Array(c),r=0;r<c;r++)l[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(l)))).state={value:""},a.onChange=function(e){console.log(e),a.setState({value:e.target.value})},a.handleOk=function(){a.state.value?a.props.handleOk(a.state.value):h.a.error("\u8bf7\u586b\u5199")},a}return Object(l.a)(t,e),Object(c.a)(t,[{key:"componentDidUpdate",value:function(e){this.props.visible===e.visible||e.visible||this.setState({value:""})}},{key:"render",value:function(){return o.a.createElement(d.a,{title:this.props.title,visible:this.props.visible,onOk:this.handleOk,onCancel:this.props.onCancel},o.a.createElement(m,{rows:4,onChange:this.onChange,value:this.state.value}))}}]),t}(o.a.Component);f.defaultProps={handleOk:function(){}}}}]);
//# sourceMappingURL=13.a88e10c1.chunk.js.map