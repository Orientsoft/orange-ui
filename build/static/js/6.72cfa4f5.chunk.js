(this.webpackJsonptemp=this.webpackJsonptemp||[]).push([[6,40],{213:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return O}));var a=n(101),r=n(29),o=n(30),i=n(32),l=n(31),c=n(33),s=n(0),u=n.n(s),p=n(100),f=n(909),m=n(43),d=n(791),y=n(794),h=n(793),g=n(404),b=n(379),v={1:"\u901a\u8fc7",0:"\u9a73\u56de"},O=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(i.a)(this,Object(l.a)(t).call(this,e))).getLabels=function(){Object(b.getLabelList)().then((function(e){if(1===e.status){var t=e.data.map((function(e){return{value:e.name,text:e.name}}));n.setState({formCfg1:[{label:"\u533b\u9662\u540d\u79f0",key:"name",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u533b\u9662\u540d\u79f0!"}],type:"input"},{label:"\u8054\u7cfb\u7535\u8bdd",key:"phone",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u8054\u7cfb\u7535\u8bdd!"}],type:"input"},{label:"\u7279\u8272\u79d1\u5ba4",key:"department",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u7279\u8272\u79d1\u5ba4!"}],type:"tagInput"},{label:"\u533b\u9662LOGO",key:"logo",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u516c\u53f8\u540d\u79f0!"}],type:"upload"},{label:"\u533b\u9662\u5927\u56fe",key:"pic",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u516c\u53f8\u540d\u79f0!"}],type:"upload"},{label:"\u6807\u7b7e",key:"tag",rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u6807\u7b7e!"}],type:"multipleSelect",selectOptions:t},{label:"\u7ecf\u7eac\u5ea6",key:"longitudelatitudepoi",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u7f16\u53f7!"},{pattern:/^-?(0|[1-9][0-9]*)(\.[0-9]*)?$/,message:"\u8bf7\u8f93\u5165\u6570\u5b57"}],type:"longitudelatitudepoi"},{label:"\u5177\u4f53\u5730\u5740",key:"address",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5177\u4f53\u5730\u5740!"}],type:"input"}]})}})).catch((function(e){console.log(e)}))},n.getPageData=function(){Object(b.getHospitalList)(n.state.current).then((function(e){if(1!==e.status)n.setState({dataSource:[]});else{var t=e.data.map((function(e){return e.operation?Object(a.a)({},e,{},e.operation):e.last_operation?Object(a.a)({},e,{},e.last_operation):e}));n.setState({dataSource:t})}})).catch((function(e){console.log(e)}))},n.onChangePage=function(e){n.setState({current:e},(function(){n.getPageData()}))},n.openEdit=function(e){return function(){n.setState({visible:!0,mode:"edit",initData:e,formCfg:n.state.formCfg1,width:520})}},n.openToolmanModal=function(){n.setState({toolmanVisible:!0})},n.toolmanHandleCancel=function(){n.setState({toolmanVisible:!1})},n.onCancel=function(){n.setState({visible:!1,initData:{},mode:""})},n.onSubmit=function(e){if(console.log("v",e),e.latitude)if(e.department)if(0!==e.department.length){var t=Object(a.a)({},e);e.content&&(t.content=e.content.toHTML()),Object(b.editHospital)(n.state.initData.id,t).then((function(e){if(1===e.status)return n.onCancel(),setTimeout((function(){p.a.success("\u63d0\u4ea4\u6210\u529f, \u8bf7\u7b49\u5f85\u5ba1\u6838")}),2e3),void n.getPageData();p.a.error("\u4fee\u6539\u5931\u8d25")})).catch((function(e){console.log(e)}))}else p.a.error("\u8bf7\u6dfb\u52a0\u7279\u8272\u79d1\u5ba4");else p.a.error("\u8bf7\u6dfb\u52a0\u7279\u8272\u79d1\u5ba4");else p.a.error("\u8bf7\u8bbe\u7f6e\u7ecf\u7eac\u5ea6")},n.showPreview=function(e){return function(){n.setState({previewVisible:!0,previewImage:e})}},n.previewHandleCancel=function(){n.setState({previewVisible:!1,previewImage:""})},n.showContent=function(e){return function(){n.setState({visible:!0,mode:"edit",initData:e,formCfg:n.state.formCfg2,width:1024})}},n.renderTag=function(e){return e?u.a.createElement("div",{style:{marginTop:"8px"}},e.map((function(e){return u.a.createElement("div",{key:e,style:{paddingLeft:"8px",marginBottom:"8px"}},u.a.createElement(f.a,{color:"#108ee9"},e))}))):null},n.state={toolmanVisible:!1,selectRow:{},previewVisible:!1,previewImage:"",mode:"",visible:!1,current:1,total:1,dataSource:[],formCfg:[],formCfg1:[{label:"\u533b\u9662\u540d\u79f0",key:"name",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u533b\u9662\u540d\u79f0!"}],type:"input"},{label:"\u6807\u7b7e",key:"tag",rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u6807\u7b7e!"}],type:"multipleSelect",selectOptions:[]},{label:"\u7ecf\u7eac\u5ea6",key:"longitudelatitudepoi",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u7f16\u53f7!"},{pattern:/^-?(0|[1-9][0-9]*)(\.[0-9]*)?$/,message:"\u8bf7\u8f93\u5165\u6570\u5b57"}],type:"longitudelatitudepoi"},{label:"\u5177\u4f53\u5730\u5740",key:"address",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5177\u4f53\u5730\u5740!"}],type:"input"}],formCfg2:[{label:"\u533b\u9662\u7b80\u4ecb",key:"content",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u533b\u9662\u7b80\u4ecb!"}],type:"braftEditor"}],initData:{},initKeys:["logo","pic","department"]},n}return Object(c.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.getLabels(),this.getPageData()}},{key:"render",value:function(){var e=this,t=[{title:"\u533b\u9662\u540d\u79f0",dataIndex:"name",key:"name",align:"center"},{title:"\u533b\u9662\u7b80\u4ecb",dataIndex:"content",key:"content",align:"center",render:function(t,n){return u.a.createElement("div",{className:"canClick",onClick:e.showContent(n)},"\u7f16\u8f91")}},{title:"\u7279\u8272\u79d1\u5ba4",dataIndex:"department",key:"department",align:"center",render:function(e){return e?e.join("\u3001"):null}},{title:"\u6807\u7b7e",dataIndex:"tag",key:"tag",align:"center",render:function(e){return e?e.join("\u3001"):null}},{title:"\u8054\u7cfb\u7535\u8bdd",dataIndex:"phone",key:"phone",align:"center"},{title:"\u533b\u9662logo",dataIndex:"logo",key:"logo",align:"center",render:function(t){return u.a.createElement("img",{onClick:e.showPreview(t),src:t,alt:"",style:{height:"20px"},className:"canClick"})}},{title:"\u533b\u9662\u5927\u56fe",dataIndex:"pic",key:"pic",align:"center",render:function(t){return u.a.createElement("img",{onClick:e.showPreview(t),src:t,alt:"",style:{height:"20px"},className:"canClick"})}},{title:"\u8be6\u7ec6\u5730\u5740",dataIndex:"address",key:"address",align:"center"},{title:"\u72b6\u6001",dataIndex:"status",key:"status",align:"center",render:function(e,t){return t.operation?"\u5f85\u5ba1\u6838":v[e]||"\u65e0"}},{title:"\u9a73\u56de\u539f\u56e0",dataIndex:"reason",key:"reason",align:"center",render:function(e,t){return t.operation?"\u65e0":e||"\u65e0"}},{title:"\u64cd\u4f5c",dataIndex:"action",key:"action",align:"center",width:220,render:function(t,n){return u.a.createElement("span",null,u.a.createElement(m.a,{type:"primary",onClick:e.openEdit(n)},"\u4fee\u6539"),u.a.createElement(m.a,{style:{marginLeft:"16px"},type:"primary",onClick:e.openToolmanModal},"\u6dfb\u52a0\u6536\u8d39\u5458"))}}];return u.a.createElement("div",null,u.a.createElement(d.a,{current:this.state.current,total:this.state.total,columns:t,dataSource:this.state.dataSource,onChangePage:this.onChangePage}),u.a.createElement(y.a,{title:"add"===this.state.mode?"\u6dfb\u52a0":"\u4fee\u6539",visible:this.state.visible,formCfg:this.state.formCfg,initData:this.state.initData,onCancel:this.onCancel,onSubmit:this.onSubmit,initKeys:this.state.initKeys,width:this.state.width}),u.a.createElement(h.a,{previewVisible:this.state.previewVisible,previewImage:this.state.previewImage,handleCancel:this.previewHandleCancel}),u.a.createElement(g.default,{visible:this.state.toolmanVisible,onCancel:this.toolmanHandleCancel}))}}]),t}(u.a.Component)},379:function(e,t,n){"use strict";n.r(t),n.d(t,"getHospitalList",(function(){return r})),n.d(t,"editHospital",(function(){return o})),n.d(t,"getLabelList",(function(){return i})),n.d(t,"getToolmanList",(function(){return l})),n.d(t,"addToolman",(function(){return c})),n.d(t,"deleteToolman",(function(){return s}));var a=n(69);function r(e){return Object(a.a)("get","/hospital/hospitalAdmin?page=".concat(e,"&limit=10"))}function o(e,t){return Object(a.a)("put","/hospital/".concat(e),t)}function i(){return Object(a.a)("get","/tag?type=\u533b\u9662")}function l(){return Object(a.a)("get","/hospital/toolman")}function c(e){return Object(a.a)("post","/hospital/toolman",e)}function s(e){return Object(a.a)("delete","/hospital/toolman",e)}},404:function(e,t,n){"use strict";n.r(t);var a=n(29),r=n(30),o=n(32),i=n(31),l=n(33),c=n(0),s=n.n(c),u=n(100),p=n(858),f=n(43),m=n(1),d=n(3),y=n.n(d),h=n(35),g=n(843),b=n(110),v=n(861),O=n(276),k=n(191),C=n(829);function E(e){return(E="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function S(e,t){return!t||"object"!==E(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function P(e){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function I(e,t){return(I=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function T(){return(T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var N=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n};function V(e,t){return e[t]&&Math.floor(24/e[t])}var _=function(e){function t(){var e;return w(this,t),(e=S(this,P(t).apply(this,arguments))).renderItem=function(t){var n=t.getPrefixCls,a=e.context,r=a.grid,o=a.itemLayout,i=e.props,l=i.prefixCls,s=i.children,u=i.actions,p=i.extra,f=i.className,m=N(i,["prefixCls","children","actions","extra","className"]),d=n("list",l),h=u&&u.length>0&&c.createElement("ul",{className:"".concat(d,"-item-action"),key:"actions"},u.map((function(e,t){return c.createElement("li",{key:"".concat(d,"-item-action-").concat(t)},e,t!==u.length-1&&c.createElement("em",{className:"".concat(d,"-item-action-split")}))}))),g=r?"div":"li",b=c.createElement(g,T({},m,{className:y()("".concat(d,"-item"),f,j({},"".concat(d,"-item-no-flex"),!e.isFlexMode()))}),"vertical"===o&&p?[c.createElement("div",{className:"".concat(d,"-item-main"),key:"content"},s,h),c.createElement("div",{className:"".concat(d,"-item-extra"),key:"extra"},p)]:[s,h,Object(C.a)(p,{key:"extra"})]);return r?c.createElement(k.a,{span:V(r,"column"),xs:V(r,"xs"),sm:V(r,"sm"),md:V(r,"md"),lg:V(r,"lg"),xl:V(r,"xl"),xxl:V(r,"xxl")},b):b},e}var n,a,r;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&I(e,t)}(t,e),n=t,(a=[{key:"isItemContainsTextNodeAndNotSingular",value:function(){var e,t=this.props.children;return c.Children.forEach(t,(function(t){"string"===typeof t&&(e=!0)})),e&&c.Children.count(t)>1}},{key:"isFlexMode",value:function(){var e=this.props.extra;return"vertical"===this.context.itemLayout?!!e:!this.isItemContainsTextNodeAndNotSingular()}},{key:"render",value:function(){return c.createElement(b.a,null,this.renderItem)}}])&&x(n.prototype,a),r&&x(n,r),t}(c.Component);function L(e){return(L="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function D(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function M(){return(M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function q(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function A(e,t){return!t||"object"!==L(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function H(e){return(H=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function R(e,t){return(R=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}_.Meta=function(e){return c.createElement(b.a,null,(function(t){var n=t.getPrefixCls,a=e.prefixCls,r=e.className,o=e.avatar,i=e.title,l=e.description,s=N(e,["prefixCls","className","avatar","title","description"]),u=n("list",a),p=y()("".concat(u,"-item-meta"),r),f=c.createElement("div",{className:"".concat(u,"-item-meta-content")},i&&c.createElement("h4",{className:"".concat(u,"-item-meta-title")},i),l&&c.createElement("div",{className:"".concat(u,"-item-meta-description")},l));return c.createElement("div",T({},s,{className:p}),o&&c.createElement("div",{className:"".concat(u,"-item-meta-avatar")},o),(i||l)&&f)}))},_.contextTypes={grid:m.any,itemLayout:m.string};var K=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n},F=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=A(this,H(t).call(this,e))).defaultPaginationProps={current:1,total:0},n.keys={},n.onPaginationChange=n.triggerPaginationEvent("onChange"),n.onPaginationShowSizeChange=n.triggerPaginationEvent("onShowSizeChange"),n.renderItem=function(e,t){var a,r=n.props,o=r.renderItem,i=r.rowKey;return o?((a="function"===typeof i?i(e):"string"===typeof i?e[i]:e.key)||(a="list-item-".concat(t)),n.keys[t]=a,o(e,t)):null},n.renderEmpty=function(e,t){var a=n.props.locale;return c.createElement("div",{className:"".concat(e,"-empty-text")},a&&a.emptyText||t("List"))},n.renderList=function(e){var t,a=e.getPrefixCls,r=e.renderEmpty,o=n.state,i=o.paginationCurrent,l=o.paginationSize,s=n.props,u=s.prefixCls,p=s.bordered,f=s.split,m=s.className,d=s.children,b=s.itemLayout,k=s.loadMore,C=s.pagination,E=s.grid,j=s.dataSource,w=void 0===j?[]:j,x=s.size,S=s.header,P=s.footer,I=s.loading,T=K(s,["prefixCls","bordered","split","className","children","itemLayout","loadMore","pagination","grid","dataSource","size","header","footer","loading"]),N=a("list",u),V=I;"boolean"===typeof V&&(V={spinning:V});var _=V&&V.spinning,L="";switch(x){case"large":L="lg";break;case"small":L="sm"}var q=y()(N,m,(z(t={},"".concat(N,"-vertical"),"vertical"===b),z(t,"".concat(N,"-").concat(L),L),z(t,"".concat(N,"-split"),f),z(t,"".concat(N,"-bordered"),p),z(t,"".concat(N,"-loading"),_),z(t,"".concat(N,"-grid"),E),z(t,"".concat(N,"-something-after-last-item"),n.isSomethingAfterLastItem()),t)),A=M(M(M({},n.defaultPaginationProps),{total:w.length,current:i,pageSize:l}),C||{}),H=Math.ceil(A.total/A.pageSize);A.current>H&&(A.current=H);var R,F=C?c.createElement("div",{className:"".concat(N,"-pagination")},c.createElement(v.a,M({},A,{onChange:n.onPaginationChange,onShowSizeChange:n.onPaginationShowSizeChange}))):null,U=D(w);if(C&&w.length>(A.current-1)*A.pageSize&&(U=D(w).splice((A.current-1)*A.pageSize,A.pageSize)),R=_&&c.createElement("div",{style:{minHeight:53}}),U.length>0){var B=U.map((function(e,t){return n.renderItem(e,t)})),$=[];c.Children.forEach(B,(function(e,t){$.push(c.cloneElement(e,{key:n.keys[t]}))})),R=E?c.createElement(O.a,{gutter:E.gutter},$):c.createElement("ul",{className:"".concat(N,"-items")},$)}else d||_||(R=n.renderEmpty(N,r));var J=A.position||"bottom";return c.createElement("div",M({className:q},Object(h.a)(T,["rowKey","renderItem","locale"])),("top"===J||"both"===J)&&F,S&&c.createElement("div",{className:"".concat(N,"-header")},S),c.createElement(g.a,V,R,d),P&&c.createElement("div",{className:"".concat(N,"-footer")},P),k||("bottom"===J||"both"===J)&&F)};var a=e.pagination,r=a&&"object"===L(a)?a:{};return n.state={paginationCurrent:r.defaultCurrent||1,paginationSize:r.defaultPageSize||10},n}var n,a,r;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&R(e,t)}(t,e),n=t,(a=[{key:"getChildContext",value:function(){return{grid:this.props.grid,itemLayout:this.props.itemLayout}}},{key:"triggerPaginationEvent",value:function(e){var t=this;return function(n,a){var r=t.props.pagination;t.setState({paginationCurrent:n,paginationSize:a}),r&&r[e]&&r[e](n,a)}}},{key:"isSomethingAfterLastItem",value:function(){var e=this.props,t=e.loadMore,n=e.pagination,a=e.footer;return!!(t||n||a)}},{key:"render",value:function(){return c.createElement(b.a,null,this.renderList)}}])&&q(n.prototype,a),r&&q(n,r),t}(c.Component);F.Item=_,F.childContextTypes={grid:m.any,itemLayout:m.string},F.defaultProps={dataSource:[],bordered:!1,split:!0,loading:!1,pagination:!1};var U=n(782),B=n(192),$=n(813),J=n(379);n.d(t,"default",(function(){return G}));var G=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];return(n=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(l)))).state={data:[]},n.getPageData=function(){Object(J.getToolmanList)().then((function(e){1===e.status&&n.setState({data:e.data})})).catch((function(e){console.log(e)}))},n.confirm=function(e){return function(){Object(J.deleteToolman)({phone:e}).then((function(t){if(1!==t.status)u.a.error("\u5220\u9664\u5931\u8d25");else{var a=n.state.data.filter((function(t){return t.phone!==e}));n.setState({data:a})}})).catch((function(e){console.log(e)}))}},n.onChange=function(e){n.value=e.target.value},n.addLabel=function(){n.value?Object(J.addToolman)({phone:n.value}).then((function(e){1!==e.status?u.a.error("\u6dfb\u52a0\u5931\u8d25:".concat(e.message)):n.getPageData()})).catch((function(e){console.log(e)})):u.a.error("\u8bf7\u8f93\u5165\u624b\u673a\u53f7")},n.renderItem=function(e){var t=s.a.createElement(p.a,{title:"\u786e\u5b9a\u5220\u9664?",onConfirm:n.confirm(e.phone),okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88"},s.a.createElement(f.a,{type:"danger"},"\u5220\u9664"));return s.a.createElement(F.Item,{key:e.phone,extra:t},e.phone)},n}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidUpdate",value:function(e){this.props.visible===e.visible||e.visible||this.getPageData()}},{key:"render",value:function(){var e=this.props,t=e.visible,n=e.onCancel;return s.a.createElement(U.a,{visible:t,title:"\u6dfb\u52a0\u6536\u8d39\u5458",onCancel:n,footer:!1,bodyStyle:{minHeight:"400px"}},s.a.createElement("div",{style:{marginBottom:"16px"}},s.a.createElement(B.a,{onChange:this.onChange,placeholder:"\u8bf7\u8f93\u5165\u624b\u673a\u53f7",style:{width:"260px",marginRight:"16px"}}),s.a.createElement(f.a,{type:"primary",onClick:this.addLabel},"\u6dfb\u52a0")),s.a.createElement($.a,null),s.a.createElement(F,{bordered:!0,dataSource:this.state.data,renderItem:this.renderItem}))}}]),t}(s.a.Component)},791:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var a=n(29),r=n(30),o=n(32),i=n(31),l=n(33),c=n(0),s=n.n(c),u=n(1092),p=n(861),f=n(152),m=function(e){function t(){return Object(a.a)(this,t),Object(o.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.columns,n=e.dataSource,a=e.current,r=e.total,o=e.onChangePage;return console.log("total",r),s.a.createElement("div",{style:{marginTop:"16px"}},s.a.createElement(u.a,{bordered:!0,dataSource:n,columns:t,pagination:!1,rowKey:f.c,size:"small"}),s.a.createElement("div",{className:"clearfix"},s.a.createElement(p.a,{current:a,total:r,onChange:o,style:{float:"right",marginTop:"16px"}})))}}]),t}(s.a.Component)},793:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var a=n(29),r=n(30),o=n(32),i=n(31),l=n(33),c=n(0),s=n.n(c),u=n(782),p=function(e){function t(){return Object(a.a)(this,t),Object(o.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.previewVisible,n=e.previewImage,a=e.handleCancel,r=e.renderMode;return console.log("renderMode",r),s.a.createElement(u.a,{visible:t,footer:null,onCancel:a,title:"\u9884\u89c8",width:1024},s.a.createElement("div",{style:{height:"800px"},className:"clearfix"},"draft"===r?s.a.createElement("div",{dangerouslySetInnerHTML:{__html:n}}):s.a.createElement("img",{alt:"example",style:{width:"100%",height:"100%"},src:n})))}}]),t}(s.a.Component)},794:function(e,t,n){"use strict";var a,r,o=n(277),i=n(101),l=n(29),c=n(30),s=n(32),u=n(31),p=n(33),f=(n(799),n(0)),m=n.n(f),d=n(908),y=n(11),h=n(77),g=n(100),b=n(1094),v=n(192),O=n(1091),k=n(1095),C=n(1093),E=n(43),j=n(858),w=n(782),x=n(800),S=n.n(x),P=n(152),I=n(195),T=n(16),N=d.a.Option,V={labelCol:{xs:{span:24},sm:{span:6}},wrapperCol:{xs:{span:24},sm:{span:18}}},_=m.a.createElement("div",null,m.a.createElement(y.a,{type:"plus"}),m.a.createElement("div",{className:"ant-upload-text"},"Upload")),L={label:"label",value:"value",children:"children"};t.a=h.a.create({name:"form_modal"})((r=a=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={otherValues:{}},n.mapInit2=function(){setTimeout((function(){if(document.getElementById("map-containerpoi")){var e=new AMap.Map("map-containerpoi",{zoom:10});AMapUI.loadUI(["misc/PoiPicker"],(function(t){var a=new t({input:"pickerInput1"}),r=new AMap.Marker;a.on("poiPicked",(function(t){console.log(t.item.location),r.setMap(e),r.setPosition(t.item.location),n.setState({otherValues:Object(i.a)({},n.state.otherValues,{longitude:t.item.location.lng,latitude:t.item.location.lat})})}))}))}else console.log("not find")}))},n.handleChange=function(e){return function(t){console.log("info",t),"done"===t.file.status&&(1===t.file.response.status?(g.a.success("\u4e0a\u4f20\u6210\u529f"),n.setState({otherValues:Object(i.a)({},n.state.otherValues,Object(o.a)({},e,t.file.response.data[0]))})):g.a.error("\u4e0a\u4f20\u5931\u8d25")),"error "===t.file.status&&g.a.error("\u4e0a\u4f20\u5931\u8d25")}},n.onCreate=function(){n.props.form.validateFields((function(e,t){e||(console.log(t,n.state.otherValues),console.log(n.state.otherValues),n.props.onSubmit(Object(i.a)({},t,{},n.state.otherValues)))}))},n.onChange=function(e){n.value=e.target.value},n.addLabel=function(e){return function(){if(n.value){var t=n.state.otherValues[e]?n.state.otherValues[e].slice():[];t.push(n.value),n.setState({otherValues:Object(i.a)({},n.state.otherValues,Object(o.a)({},e,t))})}else g.a.error("\u8bf7\u8f93\u5165\u5185\u5bb9")}},n.confirm=function(e,t){return function(){var a=n.state.otherValues[t].filter((function(t){return t!==e}));n.setState({otherValues:Object(i.a)({},n.state.otherValues,Object(o.a)({},t,a))})}},n.renderFormItem=function(e){var t=T.a.getState().appStatus,a=n.props.form.getFieldDecorator;switch(e.type){case"timePicker":return m.a.createElement(h.a.Item,{key:e.key,label:e.label},a(e.key,{rules:e.rules,initialValue:n.props.initData[e.key]})(m.a.createElement(b.a,{format:"HH:mm"})));case"input":return m.a.createElement(h.a.Item,{key:e.key,label:e.label},a(e.key,{rules:e.rules,initialValue:n.props.initData[e.key]})(m.a.createElement(v.a,null)));case"treeSelect":return m.a.createElement(h.a.Item,{key:e.key,label:e.label},a(e.key,{rules:e.rules,initialValue:n.props.initData[e.key]})(m.a.createElement(O.a,{treeData:e.selectOptions,placeholder:"\u8bf7\u9009\u62e9",allowClear:!0})));case"select":return m.a.createElement(h.a.Item,{key:e.key,label:e.label},a(e.key,{rules:e.rules,initialValue:n.props.initData[e.key]})(m.a.createElement(d.a,{placeholder:"\u8bf7\u9009\u62e9"},e.selectOptions.map((function(e){return m.a.createElement(N,{key:e.value,value:e.value},e.text)})))));case"cascader":return m.a.createElement(h.a.Item,{key:e.key,label:e.label},a(e.key,{rules:e.rules,initialValue:n.props.initData[e.key]})(m.a.createElement(k.a,{fieldNames:e.fieldNames||L,options:e.selectOptions,placeholder:"\u8bf7\u9009\u62e9"})));case"upload":return m.a.createElement(h.a.Item,{required:!0,key:e.key,label:e.label},m.a.createElement(C.a,{className:"avatar-uploader",action:"".concat(I.a,"/upload"),onChange:n.handleChange(e.key),headers:{AccessToken:t.token},showUploadList:!1,beforeUpload:P.a,listType:"picture-card"},n.state.otherValues[e.key]?m.a.createElement("img",{alt:"",src:n.state.otherValues[e.key],style:{width:"100%"}}):_));case"multipleSelect":return m.a.createElement(h.a.Item,{key:e.key,label:e.label},a(e.key,{rules:e.rules,initialValue:n.props.initData[e.key]})(m.a.createElement(d.a,{mode:"multiple",placeholder:"\u8bf7\u9009\u62e9"},e.selectOptions.map((function(e){return m.a.createElement(N,{key:e.value,value:e.value},e.text)})))));case"longitudelatitudepoi":return m.a.createElement("div",{key:"longitudelatitudepoi",style:{marginTop:"16px",marginBottom:"16px"}},m.a.createElement(h.a.Item,{label:"\u7ecf\u7eac\u5ea6"},n.state.otherValues.longitude," ,",n.state.otherValues.latitude),m.a.createElement("div",{id:"map-containerpoi"}),m.a.createElement("div",{id:"pickerBox"},m.a.createElement("input",{id:"pickerInput1",placeholder:"\u8f93\u5165\u5173\u952e\u5b57\u9009\u53d6\u5730\u70b9"})));case"braftEditor":return m.a.createElement(h.a.Item,{key:e.key,label:e.label},a(e.key,{initialValue:S.a.createEditorState(n.props.initData[e.key]),validateTrigger:"onBlur",rules:[{required:!0,validator:function(e,t,n){t.isEmpty()?n("\u8bf7\u8f93\u5165\u6b63\u6587\u5185\u5bb9"):n()}}]})(m.a.createElement(S.a,{className:"my-editor",placeholder:"\u8bf7\u8f93\u5165\u6b63\u6587\u5185\u5bb9"})));case"tagInput":var r=n.state.otherValues[e.key]||[];return m.a.createElement(h.a.Item,{required:!0,key:e.key,label:e.label},m.a.createElement(v.a,{onChange:n.onChange,style:{width:"200px",marginRight:"16px"}}),m.a.createElement(E.a,{onClick:n.addLabel(e.key),type:"primary"},"\u6dfb\u52a0"),m.a.createElement("div",{style:{marginTop:"8px"}},r.map((function(t){return m.a.createElement(j.a,{key:t,title:"\u786e\u5b9a\u5220\u9664?",onConfirm:n.confirm(t,e.key),okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88"},m.a.createElement(E.a,{type:"primary",style:{marginRight:"8px"}},t,m.a.createElement(y.a,{type:"close-circle"})))}))));case"default":return m.a.createElement(h.a.Item,{key:e.key,label:e.label},e.defaultValue)}},n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidUpdate",value:function(e){if(this.props.visible!==e.visible&&!e.visible){for(var t={},n=this.props.initKeys,a=0;a<n.length;a+=1)t[n[a]]=this.props.initData[n[a]];this.setState({otherValues:Object(i.a)({latitude:this.props.initData.latitude,longitude:this.props.initData.longitude,pic:this.props.initData.pic},t)}),this.mapInit2()}}},{key:"render",value:function(){var e=this.props,t=e.visible,n=e.onCancel,a=e.title,r=e.formCfg,o=e.width;return m.a.createElement(w.a,{visible:t,title:a,onCancel:n,onOk:this.onCreate,width:o},t&&m.a.createElement(h.a,Object.assign({},V,{layout:"vertical"}),r.map(this.renderFormItem)))}}]),t}(m.a.Component),a.defaultProps={initKeys:[]},r))},813:function(e,t,n){"use strict";var a=n(0),r=n(3),o=n.n(r),i=n(110);function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n};t.a=function(e){return a.createElement(i.a,null,(function(t){var n,r=t.getPrefixCls,i=e.prefixCls,u=e.type,p=void 0===u?"horizontal":u,f=e.orientation,m=void 0===f?"center":f,d=e.className,y=e.children,h=e.dashed,g=s(e,["prefixCls","type","orientation","className","children","dashed"]),b=r("divider",i),v=m.length>0?"-".concat(m):m,O=o()(d,b,"".concat(b,"-").concat(p),(c(n={},"".concat(b,"-with-text").concat(v),y),c(n,"".concat(b,"-dashed"),!!h),n));return a.createElement("div",l({className:O},g,{role:"separator"}),y&&a.createElement("span",{className:"".concat(b,"-inner-text")},y))}))}},909:function(e,t,n){"use strict";var a=n(0),r=n(3),o=n.n(r),i=n(35),l=n(22),c=n(11),s=n(110);function u(e){return(u="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function y(e,t){return!t||"object"!==u(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var b=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n},v=function(e){function t(){var e;return m(this,t),(e=y(this,h(t).apply(this,arguments))).handleClick=function(){var t=e.props,n=t.checked,a=t.onChange;a&&a(!n)},e.renderCheckableTag=function(t){var n,r=t.getPrefixCls,i=e.props,l=i.prefixCls,c=i.className,s=i.checked,u=b(i,["prefixCls","className","checked"]),m=r("tag",l),d=o()(m,(f(n={},"".concat(m,"-checkable"),!0),f(n,"".concat(m,"-checkable-checked"),s),n),c);return delete u.onChange,a.createElement("span",p({},u,{className:d,onClick:e.handleClick}))},e}var n,r,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){return a.createElement(s.a,null,this.renderCheckableTag)}}])&&d(n.prototype,r),i&&d(n,i),t}(a.Component),O=n(36),k=Object(O.a)("pink","red","yellow","orange","cyan","green","blue","purple","geekblue","magenta","volcano","gold","lime"),C=n(17),E=n(281);function j(e){return(j="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x(){return(x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function S(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function P(e,t){return!t||"object"!==j(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function I(e){return(I=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function T(e,t){return(T=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var N=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n},V=new RegExp("^(".concat(k.join("|"),")(-inverse)?$")),_=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=P(this,I(t).call(this,e))).state={visible:!0},n.handleIconClick=function(e){e.stopPropagation(),n.setVisible(!1,e)},n.renderTag=function(e){var t=n.props,r=t.children,o=N(t,["children"]),l="onClick"in o||r&&"a"===r.type,c=Object(i.a)(o,["onClose","afterClose","color","visible","closable","prefixCls"]);return l?a.createElement(E.a,null,a.createElement("span",x({},c,{className:n.getTagClassName(e),style:n.getTagStyle()}),r,n.renderCloseIcon())):a.createElement("span",x({},c,{className:n.getTagClassName(e),style:n.getTagStyle()}),r,n.renderCloseIcon())},Object(C.a)(!("afterClose"in e),"Tag","'afterClose' will be deprecated, please use 'onClose', we will remove this in the next version."),n}var n,r,l;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&T(e,t)}(t,e),n=t,l=[{key:"getDerivedStateFromProps",value:function(e){return"visible"in e?{visible:e.visible}:null}}],(r=[{key:"getTagStyle",value:function(){var e=this.props,t=e.color,n=e.style,a=this.isPresetColor();return x({backgroundColor:t&&!a?t:void 0},n)}},{key:"getTagClassName",value:function(e){var t,n=e.getPrefixCls,a=this.props,r=a.prefixCls,i=a.className,l=a.color,c=this.state.visible,s=this.isPresetColor(),u=n("tag",r);return o()(u,(w(t={},"".concat(u,"-").concat(l),s),w(t,"".concat(u,"-has-color"),l&&!s),w(t,"".concat(u,"-hidden"),!c),t),i)}},{key:"setVisible",value:function(e,t){var n=this.props,a=n.onClose,r=n.afterClose;a&&a(t),r&&!a&&r(),t.defaultPrevented||"visible"in this.props||this.setState({visible:e})}},{key:"isPresetColor",value:function(){var e=this.props.color;return!!e&&V.test(e)}},{key:"renderCloseIcon",value:function(){return this.props.closable?a.createElement(c.a,{type:"close",onClick:this.handleIconClick}):null}},{key:"render",value:function(){return a.createElement(s.a,null,this.renderTag)}}])&&S(n.prototype,r),l&&S(n,l),t}(a.Component);_.CheckableTag=v,_.defaultProps={closable:!1},Object(l.polyfill)(_);t.a=_}}]);
//# sourceMappingURL=6.72cfa4f5.chunk.js.map