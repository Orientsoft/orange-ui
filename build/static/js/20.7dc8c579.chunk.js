(this.webpackJsonptemp=this.webpackJsonptemp||[]).push([[20,29,30],{202:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return f}));var a=n(29),o=n(30),c=n(32),i=n(31),r=n(33),s=n(0),l=n.n(s),u=n(100),d=n(43),h=n(786),g=n(386),p=n(376),f=function(t){function e(t){var n;return Object(a.a)(this,e),(n=Object(c.a)(this,Object(i.a)(e).call(this,t))).getPageData=function(){Object(p.getAppointAdminList)(n.state.current).then((function(t){1!==t.status?n.setState({dataSource:[]}):n.setState({dataSource:t.data,total:t.total})})).catch((function(t){console.log(t)}))},n.onChangePage=function(t){n.setState({current:t},(function(){n.getPageData()}))},n.showHospital=function(t){return function(){n.setState({visible:!0,selectRow:t})}},n.onCancel=function(){n.setState({visible:!1})},n.handleOk=function(t){console.log("id",t),Object(p.appointAsign)(n.state.selectRow.id,{id:t}).then((function(t){if(1===t.status)return u.a.success("\u6307\u6d3e\u6210\u529f"),n.setState({visible:!1,selectRow:{}}),void n.getPageData();u.a.error("\u6307\u6d3e\u5931\u8d25:".concat(t.message))})).catch((function(t){console.log(t)}))},n.state={visible:!1,current:1,total:0,dataSource:[],selectRow:{}},n}return Object(r.a)(e,t),Object(o.a)(e,[{key:"componentDidMount",value:function(){this.getPageData()}},{key:"render",value:function(){var t=this,e=[{title:"\u9884\u7ea6\u4eba",dataIndex:"name",key:"name",align:"center"},{title:"\u8054\u7cfb\u7535\u8bdd",dataIndex:"phone",key:"phone",align:"center"},{title:"\u9884\u7ea6\u65f6\u95f4",dataIndex:"orderAt",key:"orderAt",align:"center"},{title:"\u5176\u4ed6\u8bf4\u660e",dataIndex:"remark",key:"remark",align:"center"},{title:"\u6307\u6d3e\u533b\u9662",dataIndex:"hospName",key:"hospName",align:"center"},{title:"\u72b6\u6001",dataIndex:"status",key:"status",align:"center",render:function(t,e){return e.hospId?"\u5df2\u6307\u6d3e":"\u672a\u6307\u6d3e"}},{title:"\u64cd\u4f5c",dataIndex:"action",key:"action",align:"center",width:100,render:function(e,n){return l.a.createElement(d.a,{type:"primary",onClick:t.showHospital(n)},"\u6307\u6d3e")}}];return l.a.createElement("div",null,l.a.createElement(h.a,{current:this.state.current,total:this.state.total,columns:e,dataSource:this.state.dataSource,onChangePage:this.onChangePage}),l.a.createElement(g.default,{visible:this.state.visible,onCancel:this.onCancel,handleOk:this.handleOk}))}}]),e}(l.a.Component)},376:function(t,e,n){"use strict";n.r(e),n.d(e,"getAppointAdminList",(function(){return o})),n.d(e,"appointAsign",(function(){return c})),n.d(e,"getHospitalList",(function(){return i}));var a=n(68);function o(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return Object(a.a)("get","/appointment/admin?page=".concat(t,"&limit=1000"))}function c(t,e){return Object(a.a)("put","/appointment/".concat(t),e)}function i(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return Object(a.a)("get","/hospital?page=".concat(t,"&limit=10"))}},386:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return m}));var a=n(29),o=n(30),c=n(32),i=n(31),r=n(33),s=n(0),l=n.n(s),u=n(100),d=n(777),h=n(1085),g=n(152),p=n(376),f=[{title:"\u533b\u9662\u540d",dataIndex:"name",key:"name",align:"center"}],m=function(t){function e(){var t,n;Object(a.a)(this,e);for(var o=arguments.length,r=new Array(o),s=0;s<o;s++)r[s]=arguments[s];return(n=Object(c.a)(this,(t=Object(i.a)(e)).call.apply(t,[this].concat(r)))).state={current:1,total:0,selectedRowKeys:[]},n.getPageData=function(){Object(p.getHospitalList)(n.state.current).then((function(t){1!==t.status?n.setState({dataSource:[]}):n.setState({dataSource:t.data,total:t.total})})).catch((function(t){console.log(t)}))},n.onChangePage=function(t){n.setState({current:t},(function(){n.getPageData()}))},n.onSelectChange=function(t){console.log("selectedRowKeys",t),n.setState({selectedRowKeys:t})},n.handleOk=function(){0!==n.state.selectedRowKeys.length?(console.log(n.state.selectedRowKeys[0]),n.props.handleOk(n.state.selectedRowKeys[0])):u.a.error("\u8bf7\u9009\u62e9\u533b\u9662")},n}return Object(r.a)(e,t),Object(o.a)(e,[{key:"componentDidUpdate",value:function(t){this.props.visible===t.visible||t.visible||(this.setState({selectedRowKeys:[]}),this.getPageData())}},{key:"render",value:function(){var t={type:"radio",selectedRowKeys:this.state.selectedRowKeys,onChange:this.onSelectChange};return l.a.createElement(d.a,{title:"\u8bf7\u9009\u62e9\u533b\u9662\u8fdb\u884c\u6307\u6d3e",visible:this.props.visible,onOk:this.handleOk,onCancel:this.props.onCancel},l.a.createElement(h.a,{bordered:!0,dataSource:this.state.dataSource,columns:f,pagination:!1,rowKey:g.c,size:"small",rowSelection:t}))}}]),e}(l.a.Component);m.defaultProps={handleOk:function(){}}},786:function(t,e,n){"use strict";n.d(e,"a",(function(){return g}));var a=n(29),o=n(30),c=n(32),i=n(31),r=n(33),s=n(0),l=n.n(s),u=n(1085),d=n(854),h=n(152),g=function(t){function e(){return Object(a.a)(this,e),Object(c.a)(this,Object(i.a)(e).apply(this,arguments))}return Object(r.a)(e,t),Object(o.a)(e,[{key:"render",value:function(){var t=this.props,e=t.columns,n=t.dataSource,a=t.current,o=t.total,c=t.onChangePage;return console.log("total",o),l.a.createElement("div",{style:{marginTop:"16px"}},l.a.createElement(u.a,{bordered:!0,dataSource:n,columns:e,pagination:!1,rowKey:h.c,size:"small"}),l.a.createElement("div",{className:"clearfix"},l.a.createElement(d.a,{current:a,total:o,onChange:c,style:{float:"right",marginTop:"16px"}})))}}]),e}(l.a.Component)}}]);
//# sourceMappingURL=20.7dc8c579.chunk.js.map