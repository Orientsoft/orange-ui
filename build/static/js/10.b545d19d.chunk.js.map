{"version":3,"sources":["pages/mall/product/index.js","pages/mall/product/service.js","components/comTable/index.js","components/previewModal/index.js","components/formModal/index.js","../tag/CheckableTag.jsx","../_util/colors.js","../tag/index.jsx"],"names":["Product","p","getPageData","getProductList","state","current","then","res","status","setState","dataSource","data","total","catch","e","console","log","onChangePage","page","openAdd","visible","mode","initData","openEdit","record","tmp","support","map","v","id","onCancel","onSubmit","editHandle","addHandle","addProduct","message","error","editProduct","onDelete","deleteProduct","showPreview","url","previewVisible","previewImage","previewHandleCancel","renderSupport","style","marginTop","value","key","name","paddingLeft","marginBottom","color","renderTag","initKeys","formCfg","label","rules","required","type","selectOptions","this","getAllHospital","text","getLabelList","columns","title","dataIndex","align","render","onClick","src","alt","height","className","join","width","marginRight","onConfirm","handleCancel","React","Component","Fetch","Home","props","bordered","pagination","rowKey","getRowKey","size","onChange","float","PreviewModal","renderMode","footer","dangerouslySetInnerHTML","__html","Option","Select","formItemLayout","labelCol","xs","span","sm","wrapperCol","uploadButton","fieldNamesCfg","children","Form","create","otherValues","mapInit2","setTimeout","document","getElementById","AMap","Map","zoom","AMapUI","loadUI","PoiPicker","poiPicker","input","marker","Marker","on","poiResult","item","location","setMap","setPosition","longitude","lng","latitude","lat","handleChange","info","file","response","success","onCreate","form","validateFields","err","values","target","addLabel","slice","push","confirm","content","filter","renderFormItem","appStatus","store","getState","getFieldDecorator","Item","initialValue","format","treeData","placeholder","allowClear","selectOption","fieldNames","options","action","baseUrl","headers","AccessToken","token","showUploadList","beforeUpload","listType","BraftEditor","createEditorState","validateTrigger","validator","_","callback","isEmpty","okText","cancelText","defaultValue","preProps","i","length","pic","onOk","layout","defaultProps","__rest","s","t","Object","CheckableTag","checked","getPrefixCls","_a","customizePrefixCls","restProps","prefixCls","cls","classNames","handleClick","PresetColorTypes","tuple","PresetColorRegex","RegExp","Tag","otherProps","isNeedWave","tagProps","omit","warning","nextProps","isPresetColor","backgroundColor","undefined","onClose","afterClose","handleIconClick","closable","polyfill"],"mappings":"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","file":"static/js/10.b545d19d.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { Button, Popconfirm, message, Tag } from \"antd\";\r\nimport ComTable from \"../../../components/comTable\";\r\nimport FormModal from \"../../../components/formModal\";\r\nimport PreviewModal from \"../../../components/previewModal\";\r\nimport {\r\n  getProductList,\r\n  deleteProduct,\r\n  addProduct,\r\n  editProduct,\r\n  getAllHospital,\r\n  getLabelList\r\n} from \"./service\";\r\n\r\nexport default class Product extends React.Component {\r\n  constructor(p) {\r\n    super(p);\r\n    this.state = {\r\n      previewVisible: false,\r\n      previewImage: \"\",\r\n      mode: \"\",\r\n      visible: false,\r\n      current: 1,\r\n      total: 0,\r\n      dataSource: [],\r\n      initKeys: ['logo', 'pic'],\r\n      formCfg: [\r\n        {\r\n          label: \"产品名字\",\r\n          key: \"name\",\r\n          rules: [{ required: true, message: \"请输入产品名字!\" }],\r\n          type: \"input\"\r\n        },\r\n        {\r\n          label: \"产品简介1\",\r\n          key: \"desc_1\",\r\n          rules: [{ required: true, message: \"请输入产品简介1!\" }],\r\n          type: \"input\"\r\n        },\r\n        {\r\n          label: \"产品简介2\",\r\n          key: \"desc_2\",\r\n          rules: [{ required: true, message: \"请输入产品简介2!\" }],\r\n          type: \"input\"\r\n        },\r\n        {\r\n          label: \"原价\",\r\n          key: \"price\",\r\n          rules: [{ required: true, message: \"请输入原价!\" }],\r\n          type: \"input\"\r\n        },\r\n        {\r\n          label: \"现价\",\r\n          key: \"sale\",\r\n          rules: [{ required: true, message: \"请输入现价!\" }],\r\n          type: \"input\"\r\n        },\r\n        {\r\n          label: \"销售量\",\r\n          key: \"volume\",\r\n          rules: [{ required: true, message: \"请输入销售量!\" }],\r\n          type: \"input\"\r\n        },\r\n        {\r\n          label: \"咨询电话\",\r\n          key: \"phone\",\r\n          rules: [{ required: true, message: \"请输入咨询电话!\" }],\r\n          type: \"input\"\r\n        },\r\n        {\r\n          label: \"标签\",\r\n          key: \"tag\",\r\n          rules: [{ required: true, message: \"请选择标签!\" }],\r\n          type: \"multipleSelect\",\r\n          selectOptions: []\r\n        },\r\n        {\r\n          label: \"支持医院\",\r\n          key: \"support\",\r\n          rules: [{ required: true, message: \"请选择支持医院!\" }],\r\n          type: \"multipleSelect\",\r\n          selectOptions: []\r\n        },\r\n        {\r\n          label: \"产品LOGO\",\r\n          key: \"logo\",\r\n          rules: [{ required: true, message: \"请输入公司名称!\" }],\r\n          type: \"upload\"\r\n        },\r\n        {\r\n          label: \"产品大图\",\r\n          key: \"pic\",\r\n          rules: [{ required: true, message: \"请输入公司名称!\" }],\r\n          type: \"upload\"\r\n        }\r\n      ],\r\n      initData: {}\r\n    };\r\n  }\r\n  componentDidMount() {\r\n    this.getPageData();\r\n    getAllHospital()\r\n      .then(res => {\r\n        if (res.status === 1) {\r\n          const tmp = this.state.formCfg.map(v => {\r\n            if (v.key === \"support\") {\r\n              const selectOptions = res.data.map(value => ({\r\n                value: value.id,\r\n                text: value.name\r\n              }));\r\n              return { ...v, selectOptions };\r\n            }\r\n            return v;\r\n          });\r\n          this.setState({ formCfg: tmp });\r\n        }\r\n      })\r\n      .catch(e => {\r\n        console.log(e);\r\n      });\r\n    getLabelList()\r\n      .then(res => {\r\n        if (res.status === 1) {\r\n          const tmp = this.state.formCfg.map(v => {\r\n            if (v.key === \"tag\") {\r\n              const selectOptions = res.data.map(value => ({\r\n                value: value.name,\r\n                text: value.name\r\n              }));\r\n              return { ...v, selectOptions };\r\n            }\r\n            return v;\r\n          });\r\n          this.setState({ formCfg: tmp });\r\n        }\r\n      })\r\n      .catch(e => {\r\n        console.log(e);\r\n      });\r\n  }\r\n  getPageData = () => {\r\n    getProductList(this.state.current)\r\n      .then(res => {\r\n        if (res.status === 1) {\r\n          this.setState({ dataSource: res.data, total: res.total });\r\n          return;\r\n        }\r\n        this.setState({ dataSource: [] });\r\n      })\r\n      .catch(e => {\r\n        console.log(e);\r\n      });\r\n  };\r\n  onChangePage = page => {\r\n    this.setState(\r\n      {\r\n        current: page\r\n      },\r\n      () => {\r\n        this.getPageData();\r\n      }\r\n    );\r\n  };\r\n  openAdd = () => {\r\n    this.setState({\r\n      visible: true,\r\n      mode: \"add\",\r\n      initData: {}\r\n    });\r\n  };\r\n  openEdit = record => () => {\r\n    const tmp = { ...record };\r\n    tmp.support = record.support.map(v => v.id);\r\n    this.setState({\r\n      visible: true,\r\n      mode: \"edit\",\r\n      initData: tmp,\r\n    });\r\n  };\r\n  onCancel = () => {\r\n    this.setState({\r\n      visible: false,\r\n      initData: {},\r\n      mode: \"\"\r\n    });\r\n  };\r\n  onSubmit = v => {\r\n    console.log(\"v\", v);\r\n    if (this.state.mode === \"add\") {\r\n      this.addHandle(v);\r\n      return;\r\n    }\r\n    this.editHandle(v);\r\n  };\r\n  addHandle = v => {\r\n    addProduct(v)\r\n      .then(res => {\r\n        if (res.status === 1) {\r\n          this.onCancel();\r\n          this.getPageData();\r\n          return;\r\n        }\r\n        message.error(\"添加失败\");\r\n      })\r\n      .catch(e => {\r\n        console.log(e);\r\n      });\r\n  };\r\n  editHandle = v => {\r\n    editProduct(this.state.initData.id, v)\r\n      .then(res => {\r\n        if (res.status === 1) {\r\n          this.onCancel();\r\n          this.getPageData();\r\n          return;\r\n        }\r\n        message.error(\"修改失败\");\r\n      })\r\n      .catch(e => {\r\n        console.log(e);\r\n      });\r\n  };\r\n  onDelete = id => () => {\r\n    deleteProduct(id)\r\n      .then(res => {\r\n        if (res.status === 1) {\r\n          this.getPageData();\r\n          return;\r\n        }\r\n        message.error(\"删除失败\");\r\n      })\r\n      .catch(e => {\r\n        console.log(e);\r\n      });\r\n  };\r\n  showPreview = url => () => {\r\n    this.setState({ previewVisible: true, previewImage: url });\r\n  };\r\n  previewHandleCancel = () => {\r\n    this.setState({ previewVisible: false, previewImage: \"\" });\r\n  };\r\n  renderSupport = v => {\r\n    if (!v) {\r\n      return null;\r\n    }\r\n    return (\r\n      <div style={{ marginTop: \"8px\" }} >\r\n        {v.map(value => {\r\n          return (\r\n            <div key={value.name} style={{ paddingLeft: \"8px\", marginBottom: \"8px\" }}>\r\n              <Tag color=\"#108ee9\">{value.name}</Tag>\r\n            </div>\r\n          );\r\n        })}\r\n      </div>\r\n    );\r\n  };\r\n  renderTag = v => {\r\n    if (!v) {\r\n      return null;\r\n    }\r\n    return (\r\n      <div style={{ marginTop: \"8px\" }}>\r\n        {v.map(value => {\r\n          return (\r\n            <div key={value} style={{ paddingLeft: \"8px\", marginBottom: \"8px\" }}>\r\n              <Tag color=\"#108ee9\">{value}</Tag>\r\n            </div>\r\n          );\r\n        })}\r\n      </div>\r\n    );\r\n  };\r\n  render() {\r\n    const columns = [\r\n      {\r\n        title: \"名字\",\r\n        dataIndex: \"name\",\r\n        key: \"name\",\r\n        align: \"center\"\r\n      },\r\n      {\r\n        title: \"产品LOGO\",\r\n        dataIndex: \"logo\",\r\n        key: \"logo\",\r\n        align: \"center\",\r\n        render: text => {\r\n          return (\r\n            <img\r\n              onClick={this.showPreview(text)}\r\n              src={text}\r\n              alt=\"\"\r\n              style={{ height: \"20px\" }}\r\n              className=\"canClick\"\r\n            />\r\n          );\r\n        }\r\n      },\r\n      {\r\n        title: \"产品大图\",\r\n        dataIndex: \"pic\",\r\n        key: \"pic\",\r\n        align: \"center\",\r\n        render: text => {\r\n          return (\r\n            <img\r\n              onClick={this.showPreview(text)}\r\n              src={text}\r\n              alt=\"\"\r\n              style={{ height: \"20px\" }}\r\n              className=\"canClick\"\r\n            />\r\n          );\r\n        }\r\n      },\r\n      {\r\n        title: \"支持医院\",\r\n        dataIndex: \"support\",\r\n        key: \"support\",\r\n        align: \"center\",\r\n        render: v => {\r\n          if (!v) {\r\n            return null;\r\n          }\r\n          return v.map(value => value.name).join(\"、\");\r\n        }\r\n        // render: v => {\r\n        //   return (\r\n        //     <Tooltip title={this.renderSupport(v)} placement=\"bottom\">\r\n        //       <span className=\"canClick\">详情</span>\r\n        //     </Tooltip>\r\n        //   );\r\n        // }\r\n      },\r\n      {\r\n        title: \"标签\",\r\n        dataIndex: \"tag\",\r\n        key: \"tag\",\r\n        align: \"center\",\r\n        render: v => {\r\n          if (!v) {\r\n            return null;\r\n          }\r\n          return v.join(\"、\");\r\n        }\r\n        // render: v => {\r\n        //   return (\r\n        //     <Tooltip title={this.renderTag(v)} placement=\"bottom\">\r\n        //       <span className=\"canClick\">详情</span>\r\n        //     </Tooltip>\r\n        //   );\r\n        // }\r\n      },\r\n      {\r\n        title: \"原价\",\r\n        dataIndex: \"price\",\r\n        key: \"price\",\r\n        align: \"center\"\r\n      },\r\n      {\r\n        title: \"现价\",\r\n        dataIndex: \"sale\",\r\n        key: \"sale\",\r\n        align: \"center\"\r\n      },\r\n      {\r\n        title: \"销售量\",\r\n        dataIndex: \"volume\",\r\n        key: \"volume\",\r\n        align: \"center\"\r\n      },\r\n      {\r\n        title: \"描述1\",\r\n        dataIndex: \"desc_1\",\r\n        key: \"desc_1\",\r\n        align: \"center\"\r\n      },\r\n      {\r\n        title: \"描述2\",\r\n        dataIndex: \"desc_2\",\r\n        key: \"desc_2\",\r\n        align: \"center\"\r\n      },\r\n      {\r\n        title: \"操作\",\r\n        dataIndex: \"action\",\r\n        key: \"action\",\r\n        align: \"center\",\r\n        width: 200,\r\n        render: (v, record) => {\r\n          return (\r\n            <span>\r\n              <Button\r\n                type=\"primary\"\r\n                style={{ marginRight: \"16px\" }}\r\n                onClick={this.openEdit(record)}\r\n              >\r\n                修改\r\n              </Button>\r\n              <Popconfirm title=\"确定删除？\" onConfirm={this.onDelete(record.id)}>\r\n                <Button type=\"danger\">\r\n                  删除\r\n                </Button>\r\n              </Popconfirm>\r\n            </span>\r\n          );\r\n        }\r\n      }\r\n    ];\r\n    return (\r\n      <div>\r\n        <Button type=\"primary\" onClick={this.openAdd}>\r\n          添加\r\n        </Button>\r\n        <ComTable\r\n          current={this.state.current}\r\n          total={this.state.total}\r\n          columns={columns}\r\n          dataSource={this.state.dataSource}\r\n          onChangePage={this.onChangePage}\r\n        />\r\n        <FormModal\r\n          title={this.state.mode === \"add\" ? \"添加\" : \"修改\"}\r\n          visible={this.state.visible}\r\n          formCfg={this.state.formCfg}\r\n          initData={this.state.initData}\r\n          onCancel={this.onCancel}\r\n          onSubmit={this.onSubmit}\r\n          initKeys={this.state.initKeys}\r\n        />\r\n        <PreviewModal\r\n          previewVisible={this.state.previewVisible}\r\n          previewImage={this.state.previewImage}\r\n          handleCancel={this.previewHandleCancel}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import Fetch from '../../../utils/fetch';\r\n\r\nexport function getProductList(page) {\r\n    return Fetch('get', `/product?page=${page}&limit=10`);\r\n}\r\nexport function addProduct(data) {\r\n    return Fetch('post', '/product', data);\r\n}\r\n\r\nexport function deleteProduct(id) {\r\n    return Fetch('delete', `/product/${id}`);\r\n}\r\n\r\nexport function editProduct(id, data) {\r\n    return Fetch('put', `/product/${id}`, data);\r\n}\r\n\r\nexport function getAllHospital() {\r\n    return Fetch('get', '/hospital?page=1&limit=1000');\r\n}\r\n\r\nexport function getLabelList() {\r\n    return Fetch('get', '/tag?type=健康商城');\r\n}\r\n","import React from 'react';\r\nimport { Table, Pagination } from 'antd';\r\nimport { getRowKey } from '../../utils/util';\r\n\r\nexport default class Home extends React.Component {\r\n    render(){\r\n        const { columns, dataSource, current, total, onChangePage } = this.props;\r\n        console.log('total', total);\r\n        return (<div style={{ marginTop: '16px' }}>\r\n        <Table\r\n          bordered\r\n          dataSource={dataSource}\r\n          columns={columns}\r\n          pagination={false}\r\n          rowKey={getRowKey}\r\n          size=\"small\"\r\n        />\r\n        <div className='clearfix'>\r\n        <Pagination\r\n          current={current}\r\n          total={total}\r\n          // pageSize={2}\r\n          onChange={onChangePage}\r\n          style={{ float: 'right', marginTop: '16px' }}\r\n        />\r\n        </div>\r\n        </div>)\r\n    }\r\n}","import React from \"react\";\r\nimport { Modal } from \"antd\";\r\n\r\nexport default class PreviewModal extends React.Component {\r\n  render() {\r\n    const { previewVisible, previewImage, handleCancel, renderMode } = this.props;\r\n    console.log('renderMode', renderMode);\r\n    return (\r\n        <Modal\r\n          visible={previewVisible}\r\n          footer={null}\r\n          onCancel={handleCancel}\r\n          title='预览'\r\n          width={1024}\r\n        >\r\n          <div style={{ height: '800px' }} className='clearfix'>\r\n          {\r\n            renderMode === 'draft' ? <div dangerouslySetInnerHTML={{\r\n              __html: previewImage }}></div> : <img alt=\"example\" style={{ width: \"100%\", height: \"100%\" }} src={previewImage} />\r\n          }\r\n          </div>\r\n        </Modal>\r\n    );\r\n  }\r\n}\r\n","import 'braft-editor/dist/index.css'\r\nimport React from \"react\";\r\nimport {\r\n  Form,\r\n  Input,\r\n  Modal,\r\n  Select,\r\n  Upload,\r\n  Icon,\r\n  Cascader,\r\n  TimePicker,\r\n  message,\r\n  TreeSelect,\r\n  Button,\r\n  Popconfirm,\r\n} from \"antd\";\r\nimport BraftEditor from 'braft-editor'\r\nimport { beforeUpload } from \"../../utils/util\";\r\nimport { baseUrl } from \"../../config/http\";\r\nimport store from '../../store/store';\r\n\r\nconst { Option } = Select;\r\nconst formItemLayout = {\r\n  labelCol: {\r\n    xs: { span: 24 },\r\n    sm: { span: 6 }\r\n  },\r\n  wrapperCol: {\r\n    xs: { span: 24 },\r\n    sm: { span: 18 }\r\n  }\r\n};\r\n\r\nconst uploadButton = (\r\n  <div>\r\n    <Icon type=\"plus\" />\r\n    <div className=\"ant-upload-text\">Upload</div>\r\n  </div>\r\n);\r\n\r\nconst fieldNamesCfg = { label: \"label\", value: \"value\", children: \"children\" };\r\n// const controls = ['bold', 'italic', 'underline', 'text-color', 'separator', 'link', 'separator', 'media' ];\r\n\r\nexport default Form.create({ name: \"form_modal\" })(\r\n  class FormModal extends React.Component {\r\n    static defaultProps = {\r\n      initKeys: [],\r\n    }\r\n    state = {\r\n      otherValues: {}\r\n    };\r\n    componentDidUpdate(preProps) {\r\n      if (this.props.visible !== preProps.visible && !preProps.visible) {\r\n        const tmp = {};\r\n        const { initKeys } = this.props;\r\n        for( let i = 0; i < initKeys.length; i += 1){\r\n          tmp[initKeys[i]] = this.props.initData[initKeys[i]];\r\n        }\r\n        this.setState({ otherValues: { \r\n          latitude: this.props.initData.latitude,\r\n          longitude: this.props.initData.longitude,\r\n          pic: this.props.initData.pic,\r\n          ...tmp,\r\n        } });\r\n        this.mapInit2();\r\n      }\r\n    }\r\n    mapInit2 = () => {\r\n      setTimeout(() => {\r\n        const mapNode = document.getElementById(\"map-containerpoi\");\r\n        if (!mapNode) {\r\n          console.log(\"not find\");\r\n          return;\r\n        }\r\n        // eslint-disable-next-line\r\n        var map = new AMap.Map('map-containerpoi', {\r\n          zoom: 10\r\n        });\r\n        // eslint-disable-next-line\r\n        AMapUI.loadUI(['misc/PoiPicker'], (PoiPicker) => {\r\n\r\n          var poiPicker = new PoiPicker({\r\n              //city:'北京',\r\n              input: 'pickerInput1'\r\n          });\r\n  \r\n          //初始化poiPicker\r\n           // eslint-disable-next-line\r\n          var marker = new AMap.Marker();\r\n          poiPicker.on('poiPicked', (poiResult) => {\r\n            console.log(poiResult.item.location);\r\n            marker.setMap(map);\r\n            marker.setPosition(poiResult.item.location);\r\n            // const name = poiResult.item.name;\r\n            this.setState({\r\n              otherValues: {\r\n                ...this.state.otherValues,\r\n                longitude: poiResult.item.location.lng,\r\n                latitude: poiResult.item.location.lat,\r\n                // address: name\r\n              }\r\n            });\r\n          })\r\n        });\r\n      });\r\n    }\r\n    handleChange = key => info => {\r\n      console.log(\"info\", info);\r\n      if (info.file.status === \"done\") {\r\n        if (info.file.response.status === 1) {\r\n          message.success(\"上传成功\");\r\n          this.setState({\r\n            otherValues: {\r\n              ...this.state.otherValues,\r\n              [key]: info.file.response.data[0]\r\n            }\r\n          });\r\n        } else {\r\n          message.error(\"上传失败\");\r\n        }\r\n      }\r\n      if (info.file.status === \"error \") {\r\n        message.error(\"上传失败\");\r\n      }\r\n    };\r\n\r\n    onCreate = () => {\r\n      const { form } = this.props;\r\n      form.validateFields((err, values) => {\r\n        if (err) {\r\n          return;\r\n        }\r\n        console.log(values, this.state.otherValues);\r\n        console.log(this.state.otherValues);\r\n        this.props.onSubmit({ ...values, ...this.state.otherValues });\r\n      });\r\n    };\r\n    onChange = e => {\r\n      this.value = e.target.value;\r\n    };\r\n    addLabel = (key) => ()=> {\r\n      if (!this.value) {\r\n        message.error(\"请输入内容\");\r\n        return;\r\n      }\r\n  \r\n      const tmp = this.state.otherValues[key] ? this.state.otherValues[key].slice() : [];\r\n      tmp.push(this.value);\r\n      this.setState({\r\n        otherValues: {\r\n          ...this.state.otherValues,\r\n          [key]: tmp,\r\n        },\r\n      });\r\n    }\r\n    confirm = (content, key) => () => {\r\n      // const \r\n      const tmp = this.state.otherValues[key].filter(v => v !== content);\r\n      this.setState({\r\n        otherValues: {\r\n          ...this.state.otherValues,\r\n          [key]: tmp,\r\n        },\r\n      });\r\n    }\r\n    renderFormItem = value => {\r\n      const { appStatus } = store.getState();\r\n      const { getFieldDecorator } = this.props.form;\r\n      switch (value.type) {\r\n        case \"timePicker\":\r\n          return (\r\n            <Form.Item key={value.key} label={value.label}>\r\n              {getFieldDecorator(value.key, {\r\n                rules: value.rules,\r\n                initialValue: this.props.initData[value.key]\r\n              })(<TimePicker format=\"HH:mm\" />)}\r\n            </Form.Item>\r\n          );\r\n        case \"input\":\r\n          return (\r\n            <Form.Item key={value.key} label={value.label}>\r\n              {getFieldDecorator(value.key, {\r\n                rules: value.rules,\r\n                initialValue: this.props.initData[value.key]\r\n              })(<Input />)}\r\n            </Form.Item>\r\n          );\r\n        case \"treeSelect\":\r\n          return (\r\n            <Form.Item key={value.key} label={value.label}>\r\n              {getFieldDecorator(value.key, {\r\n                rules: value.rules,\r\n                initialValue: this.props.initData[value.key]\r\n              })(\r\n                <TreeSelect\r\n                  treeData={value.selectOptions}\r\n                  placeholder=\"请选择\"\r\n                  allowClear\r\n                />\r\n              )}\r\n            </Form.Item>\r\n          );\r\n        case \"select\":\r\n          return (\r\n            <Form.Item key={value.key} label={value.label}>\r\n              {getFieldDecorator(value.key, {\r\n                rules: value.rules,\r\n                initialValue: this.props.initData[value.key]\r\n              })(\r\n                <Select placeholder=\"请选择\">\r\n                  {value.selectOptions.map(selectOption => (\r\n                    <Option key={selectOption.value} value={selectOption.value}>\r\n                      {selectOption.text}\r\n                    </Option>\r\n                  ))}\r\n                </Select>\r\n              )}\r\n            </Form.Item>\r\n          );\r\n        case \"cascader\": {\r\n          return (\r\n            <Form.Item key={value.key} label={value.label}>\r\n              {getFieldDecorator(value.key, {\r\n                rules: value.rules,\r\n                initialValue: this.props.initData[value.key]\r\n              })(\r\n                <Cascader\r\n                  fieldNames={value.fieldNames || fieldNamesCfg}\r\n                  options={value.selectOptions}\r\n                  placeholder=\"请选择\"\r\n                />\r\n              )}\r\n            </Form.Item>\r\n          );\r\n        }\r\n        case \"upload\": {\r\n          return (\r\n            <Form.Item required key={value.key} label={value.label}>\r\n              <Upload\r\n                className=\"avatar-uploader\"\r\n                action={`${baseUrl}/upload`}\r\n                onChange={this.handleChange(value.key)}\r\n                headers={{ AccessToken: appStatus.token, }}\r\n                showUploadList={false}\r\n                beforeUpload={beforeUpload}\r\n                listType=\"picture-card\"\r\n              >\r\n                {this.state.otherValues[value.key] ? <img\r\n                alt=\"\"\r\n                src={this.state.otherValues[value.key]}\r\n                style={{  width: '100%' }}\r\n              /> : uploadButton}\r\n              </Upload>\r\n            </Form.Item>\r\n          );\r\n        }\r\n        case \"multipleSelect\":\r\n          return (\r\n            <Form.Item key={value.key} label={value.label}>\r\n              {getFieldDecorator(value.key, {\r\n                rules: value.rules,\r\n                initialValue: this.props.initData[value.key]\r\n              })(\r\n                <Select mode=\"multiple\" placeholder=\"请选择\">\r\n                  {value.selectOptions.map(selectOption => (\r\n                    <Option key={selectOption.value} value={selectOption.value}>\r\n                      {selectOption.text}\r\n                    </Option>\r\n                  ))}\r\n                </Select>\r\n              )}\r\n            </Form.Item>\r\n          );\r\n\r\n            case \"longitudelatitudepoi\":\r\n              return (\r\n                <div key=\"longitudelatitudepoi\" style={{ marginTop: '16px', marginBottom: '16px', }}>\r\n                  <Form.Item label=\"经纬度\">\r\n                    {this.state.otherValues.longitude} ,\r\n                    {this.state.otherValues.latitude}\r\n                  </Form.Item>\r\n                  {/* {this.state.otherValues.address && (\r\n                    <Form.Item label=\"地址\">\r\n                      {this.state.otherValues.address}\r\n                    </Form.Item>\r\n                  )} */}\r\n                  <div id=\"map-containerpoi\"></div>\r\n                  <div id=\"pickerBox\">\r\n                      <input id=\"pickerInput1\" placeholder=\"输入关键字选取地点\" />\r\n                  </div>\r\n                </div>\r\n              );\r\n              case \"braftEditor\": \r\n              return (\r\n                <Form.Item  key={value.key} label={value.label}>\r\n                {getFieldDecorator(value.key, {\r\n                  initialValue: BraftEditor.createEditorState(this.props.initData[value.key]),\r\n                  validateTrigger: 'onBlur',\r\n                  rules: [{\r\n                    required: true,\r\n                    validator: (_, value, callback) => {\r\n                      if (value.isEmpty()) {\r\n                        callback('请输入正文内容')\r\n                      } else {\r\n                        callback()\r\n                      }\r\n                    }\r\n                  }],\r\n                })(\r\n                  <BraftEditor\r\n                    className=\"my-editor\"\r\n                    // controls={controls}\r\n                    placeholder=\"请输入正文内容\"\r\n                  />\r\n                )}\r\n              </Form.Item>\r\n              )\r\n        case \"tagInput\": {\r\n          const tmp = this.state.otherValues[value.key] || [];\r\n          return (\r\n            <Form.Item  required key={value.key} label={value.label}>\r\n              <Input onChange={this.onChange} style={{ width: '200px', marginRight: '16px' }}/><Button onClick={this.addLabel(value.key)} type='primary'>添加</Button>\r\n              \r\n              <div style={{ marginTop: '8px' }}>{tmp.map(v => (\r\n                          <Popconfirm\r\n                          key={v}\r\n                          title=\"确定删除?\"\r\n                          onConfirm={this.confirm(v, value.key)}\r\n                          okText=\"确定\"\r\n                          cancelText=\"取消\"\r\n                        >\r\n                          <Button type=\"primary\" style={{ marginRight: \"8px\" }}>\r\n                            {v}\r\n                            <Icon type=\"close-circle\" />\r\n                          </Button>\r\n                        </Popconfirm>\r\n              ))}</div>\r\n            </Form.Item>\r\n          );\r\n        }\r\n        case \"default\":\r\n          return (\r\n            <Form.Item key={value.key} label={value.label}>\r\n              {value.defaultValue}\r\n            </Form.Item>\r\n          );\r\n        default:\r\n      }\r\n    };\r\n    render() {\r\n      const { visible, onCancel, title, formCfg, width } = this.props;\r\n      return (\r\n        <Modal\r\n          visible={visible}\r\n          title={title}\r\n          onCancel={onCancel}\r\n          onOk={this.onCreate}\r\n          width={width}\r\n        >\r\n          {visible && (\r\n            <Form {...formItemLayout} layout=\"vertical\">\r\n              {formCfg.map(this.renderFormItem)}\r\n            </Form>\r\n          )}\r\n        </Modal>\r\n      );\r\n    }\r\n  }\r\n);\r\n","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport { ConfigConsumer } from '../config-provider';\nexport default class CheckableTag extends React.Component {\n    constructor() {\n        super(...arguments);\n        this.handleClick = () => {\n            const { checked, onChange } = this.props;\n            if (onChange) {\n                onChange(!checked);\n            }\n        };\n        this.renderCheckableTag = ({ getPrefixCls }) => {\n            const _a = this.props, { prefixCls: customizePrefixCls, className, checked } = _a, restProps = __rest(_a, [\"prefixCls\", \"className\", \"checked\"]);\n            const prefixCls = getPrefixCls('tag', customizePrefixCls);\n            const cls = classNames(prefixCls, {\n                [`${prefixCls}-checkable`]: true,\n                [`${prefixCls}-checkable-checked`]: checked,\n            }, className);\n            delete restProps.onChange; // TypeScript cannot check delete now.\n            return <span {...restProps} className={cls} onClick={this.handleClick}/>;\n        };\n    }\n    render() {\n        return <ConfigConsumer>{this.renderCheckableTag}</ConfigConsumer>;\n    }\n}\n","import { tuple } from './type';\n// eslint-disable-next-line import/prefer-default-export\nexport const PresetColorTypes = tuple('pink', 'red', 'yellow', 'orange', 'cyan', 'green', 'blue', 'purple', 'geekblue', 'magenta', 'volcano', 'gold', 'lime');\n","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport omit from 'omit.js';\nimport { polyfill } from 'react-lifecycles-compat';\nimport Icon from '../icon';\nimport CheckableTag from './CheckableTag';\nimport { ConfigConsumer } from '../config-provider';\nimport { PresetColorTypes } from '../_util/colors';\nimport warning from '../_util/warning';\nimport Wave from '../_util/wave';\nconst PresetColorRegex = new RegExp(`^(${PresetColorTypes.join('|')})(-inverse)?$`);\nclass Tag extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            visible: true,\n        };\n        this.handleIconClick = (e) => {\n            e.stopPropagation();\n            this.setVisible(false, e);\n        };\n        this.renderTag = (configProps) => {\n            const _a = this.props, { children } = _a, otherProps = __rest(_a, [\"children\"]);\n            const isNeedWave = 'onClick' in otherProps || (children && children.type === 'a');\n            const tagProps = omit(otherProps, [\n                'onClose',\n                'afterClose',\n                'color',\n                'visible',\n                'closable',\n                'prefixCls',\n            ]);\n            return isNeedWave ? (<Wave>\n        <span {...tagProps} className={this.getTagClassName(configProps)} style={this.getTagStyle()}>\n          {children}\n          {this.renderCloseIcon()}\n        </span>\n      </Wave>) : (<span {...tagProps} className={this.getTagClassName(configProps)} style={this.getTagStyle()}>\n        {children}\n        {this.renderCloseIcon()}\n      </span>);\n        };\n        warning(!('afterClose' in props), 'Tag', \"'afterClose' will be deprecated, please use 'onClose', we will remove this in the next version.\");\n    }\n    static getDerivedStateFromProps(nextProps) {\n        if ('visible' in nextProps) {\n            return {\n                visible: nextProps.visible,\n            };\n        }\n        return null;\n    }\n    getTagStyle() {\n        const { color, style } = this.props;\n        const isPresetColor = this.isPresetColor();\n        return Object.assign({ backgroundColor: color && !isPresetColor ? color : undefined }, style);\n    }\n    getTagClassName({ getPrefixCls }) {\n        const { prefixCls: customizePrefixCls, className, color } = this.props;\n        const { visible } = this.state;\n        const isPresetColor = this.isPresetColor();\n        const prefixCls = getPrefixCls('tag', customizePrefixCls);\n        return classNames(prefixCls, {\n            [`${prefixCls}-${color}`]: isPresetColor,\n            [`${prefixCls}-has-color`]: color && !isPresetColor,\n            [`${prefixCls}-hidden`]: !visible,\n        }, className);\n    }\n    setVisible(visible, e) {\n        const { onClose, afterClose } = this.props;\n        if (onClose) {\n            onClose(e);\n        }\n        if (afterClose && !onClose) {\n            // next version remove.\n            afterClose();\n        }\n        if (e.defaultPrevented) {\n            return;\n        }\n        if (!('visible' in this.props)) {\n            this.setState({ visible });\n        }\n    }\n    isPresetColor() {\n        const { color } = this.props;\n        if (!color) {\n            return false;\n        }\n        return PresetColorRegex.test(color);\n    }\n    renderCloseIcon() {\n        const { closable } = this.props;\n        return closable ? <Icon type=\"close\" onClick={this.handleIconClick}/> : null;\n    }\n    render() {\n        return <ConfigConsumer>{this.renderTag}</ConfigConsumer>;\n    }\n}\nTag.CheckableTag = CheckableTag;\nTag.defaultProps = {\n    closable: false,\n};\npolyfill(Tag);\nexport default Tag;\n"],"sourceRoot":""}