(this.webpackJsonptemp=this.webpackJsonptemp||[]).push([[19,41],{215:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return h}));var a=n(29),r=n(30),c=n(32),i=n(31),o=n(33),l=n(0),u=n.n(l),s=n(100),m=n(43),d=n(791),p=n(793),g=n(395),f=n(152),h=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(c.a)(this,Object(i.a)(t).call(this,e))).getPageData=function(){Object(g.getCommentList)(n.state.current).then((function(e){1!==e.status?n.setState({dataSource:[]}):n.setState({dataSource:e.data,total:e.total})})).catch((function(e){console.log(e)}))},n.onChangePage=function(e){n.setState({current:e},(function(){n.getPageData()}))},n.showPreview=function(e){return function(){n.setState({previewVisible:!0,previewImage:e})}},n.previewHandleCancel=function(){n.setState({previewVisible:!1,previewImage:""})},n.deleteComment=function(e){return function(){Object(g.cancelCommentSpecial)({commentid:e}).then((function(t){if(1!==t.status)s.a.error("\u64cd\u4f5c\u5931\u8d25:".concat(t.message));else{var a=n.state.dataSource.filter((function(t){return t.id!==e}));n.setState({dataSource:a})}})).catch((function(e){console.log(e)}))}},n.state={previewVisible:!1,previewImage:"",current:1,total:0,dataSource:[]},n}return Object(o.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.getPageData()}},{key:"render",value:function(){var e=this,t=[{title:"\u4ea7\u54c1",dataIndex:"productName",key:"productName",align:"center"},{title:"\u4ea7\u54c1LOGO",dataIndex:"productLogo",key:"productLogo",align:"center",render:function(t){return u.a.createElement("img",{onClick:e.showPreview(t),src:t,alt:"",style:{height:"20px"},className:"canClick"})}},{title:"\u8bc4\u8bba\u8005",dataIndex:"commentName",key:"commentName",align:"center"},{title:"\u8bc4\u8bba",dataIndex:"comment",key:"comment",align:"center"},{title:"\u8bc4\u8bba\u65f6\u95f4",dataIndex:"commentAt",key:"commentAt",align:"center",render:f.f},{title:"\u56de\u590d",dataIndex:"answer",key:"answer",align:"center"},{title:"\u56de\u590d\u65f6\u95f4",dataIndex:"answerAt",key:"answerAt",align:"center",render:f.f},{title:"\u64cd\u4f5c",dataIndex:"action",key:"action",align:"center",width:100,render:function(t,n){return u.a.createElement("span",null,u.a.createElement(m.a,{type:"primary",onClick:e.deleteComment(n.id)},"\u5220\u9664"))}}];return u.a.createElement("div",null,u.a.createElement(d.a,{current:this.state.current,total:this.state.total,columns:t,dataSource:this.state.dataSource,onChangePage:this.onChangePage}),u.a.createElement(p.a,{previewVisible:this.state.previewVisible,previewImage:this.state.previewImage,handleCancel:this.previewHandleCancel}))}}]),t}(u.a.Component)},395:function(e,t,n){"use strict";n.r(t),n.d(t,"getCommentList",(function(){return r})),n.d(t,"cancelCommentSpecial",(function(){return c}));var a=n(69);function r(e){return Object(a.a)("get","/product/comment?page=".concat(e,"&limit=10"))}function c(e){return Object(a.a)("delete","/comment/operator",e)}},791:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var a=n(29),r=n(30),c=n(32),i=n(31),o=n(33),l=n(0),u=n.n(l),s=n(1092),m=n(861),d=n(152),p=function(e){function t(){return Object(a.a)(this,t),Object(c.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.columns,n=e.dataSource,a=e.current,r=e.total,c=e.onChangePage;return console.log("total",r),u.a.createElement("div",{style:{marginTop:"16px"}},u.a.createElement(s.a,{bordered:!0,dataSource:n,columns:t,pagination:!1,rowKey:d.c,size:"small"}),u.a.createElement("div",{className:"clearfix"},u.a.createElement(m.a,{current:a,total:r,onChange:c,style:{float:"right",marginTop:"16px"}})))}}]),t}(u.a.Component)},793:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var a=n(29),r=n(30),c=n(32),i=n(31),o=n(33),l=n(0),u=n.n(l),s=n(782),m=function(e){function t(){return Object(a.a)(this,t),Object(c.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.previewVisible,n=e.previewImage,a=e.handleCancel,r=e.renderMode;return console.log("renderMode",r),u.a.createElement(s.a,{visible:t,footer:null,onCancel:a,title:"\u9884\u89c8",width:1024},u.a.createElement("div",{className:"clearfix"},"draft"===r?u.a.createElement("div",{style:{minHeight:"700px"},dangerouslySetInnerHTML:{__html:n}}):u.a.createElement("img",{alt:"example",style:{width:"100%",height:"100%"},src:n})))}}]),t}(u.a.Component)}}]);
//# sourceMappingURL=19.662c8a42.chunk.js.map